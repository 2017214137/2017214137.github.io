<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="换菜刀换脸盆的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="换菜刀换脸盆">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="换菜刀换脸盆">
<meta property="og:description" content="换菜刀换脸盆的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>换菜刀换脸盆</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">换菜刀换脸盆</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/03/Gin%E5%A4%87%E5%BF%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/03/Gin%E5%A4%87%E5%BF%98/" class="post-title-link" itemprop="url">Gin备忘</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-03 08:45:01 / 修改时间：08:50:00" itemprop="dateCreated datePublished" datetime="2020-11-03T08:45:01+08:00">2020-11-03</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="最简单"><a href="#最简单" class="headerlink" title="最简单"></a>最简单</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">engine &#x3D; gin.Defalt()</span><br><span class="line">&#x2F;&#x2F; engine &#x3D; gin.New()</span><br><span class="line">&#x2F;&#x2F; Defalt 底层调用 New，多了 Logger 和 Recovery</span><br><span class="line">engine.Run(&quot;:8000&quot;)</span><br></pre></td></tr></table></figure>
<h1 id="HTTP-请求"><a href="#HTTP-请求" class="headerlink" title="HTTP 请求"></a>HTTP 请求</h1><h2 id="八种请求类型"><a href="#八种请求类型" class="headerlink" title="八种请求类型"></a>八种请求类型</h2><p>options</p>
<p>head</p>
<p>get</p>
<p>post</p>
<p>put</p>
<p>delete</p>
<p>trace</p>
<p>connect</p>
<p>常用三种：get、post、delete</p>
<h1 id="Gin"><a href="#Gin" class="headerlink" title="Gin"></a>Gin</h1><h2 id="通用处理"><a href="#通用处理" class="headerlink" title="通用处理"></a>通用处理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func (group *RouterGroup) Handle(httpMethod, relativePath string, handlers ...HandlerFunc) IRoutes</span><br></pre></td></tr></table></figure>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">   engine :&#x3D; gin.Default()</span><br><span class="line">   &#x2F;&#x2F; get</span><br><span class="line">   &#x2F;&#x2F; http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;hello?name&#x3D;lilingj</span><br><span class="line">   engine.Handle(&quot;GET&quot;, &quot;&#x2F;hello&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      name :&#x3D; context.DefaultQuery(&quot;name&quot;, &quot;你没有输入名字&quot;)</span><br><span class="line">      context.Writer.Write([]byte(&quot;hello &quot; + name))</span><br><span class="line">   &#125;)</span><br><span class="line">   &#x2F;&#x2F; post</span><br><span class="line">   engine.Handle(&quot;POST&quot;, &quot;&#x2F;login&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      username :&#x3D; context.PostForm(&quot;username&quot;)</span><br><span class="line">      password :&#x3D; context.PostForm(&quot;password&quot;)</span><br><span class="line">      fmt.Println(username + &quot; &quot; + password + &quot;请求登录&quot;)</span><br><span class="line">      context.Writer.Write([]byte(username + &quot;已登录&quot;))</span><br><span class="line">   &#125;)</span><br><span class="line">   if err :&#x3D; engine.Run(&quot;:8080&quot;); err !&#x3D; nil &#123;</span><br><span class="line">      log.Fatal(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="分类处理"><a href="#分类处理" class="headerlink" title="分类处理"></a>分类处理</h2><p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">   engine :&#x3D; gin.Default()</span><br><span class="line">   engine.GET(&quot;&#x2F;hello&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      name :&#x3D; context.Query(&quot;name&quot;)</span><br><span class="line">      context.Writer.Write([]byte(&quot;hello &quot; + name))</span><br><span class="line">   &#125;)</span><br><span class="line">   engine.POST(&quot;&#x2F;login&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      username, exists:&#x3D; context.GetPostForm(&quot;username&quot;)</span><br><span class="line">      password :&#x3D; context.PostForm(&quot;password&quot;)</span><br><span class="line">      if exists &#123;</span><br><span class="line">         fmt.Println(username + &quot; &quot; + password + &quot;请求登录&quot;)</span><br><span class="line">         context.Writer.Write([]byte(username + &quot;已登录&quot;))</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">         context.Writer.Write([]byte(&quot;这里什么都没有&quot;))</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">   engine.DELETE(&quot;&#x2F;user&#x2F;:id&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      userID :&#x3D; context.Param(&quot;id&quot;)</span><br><span class="line">      fmt.Println(&quot;请求删除用户&quot; + userID)</span><br><span class="line">      context.Writer.Write([]byte(&quot;delete userID:&quot; + userID))</span><br><span class="line">   &#125;)</span><br><span class="line">   if err :&#x3D; engine.Run(&quot;:8080&quot;); err !&#x3D; nil &#123;</span><br><span class="line">      log.Fatal(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="表单实体绑定"><a href="#表单实体绑定" class="headerlink" title="表单实体绑定"></a>表单实体绑定</h2><p>将提交的表单和结构体对应起来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">type UserRegister struct &#123;</span><br><span class="line">    Username string &#96;form:&quot;username&quot; binding:&quot;required&quot;&#96;</span><br><span class="line">    Phone    string &#96;form:&quot;phone&quot; binding:&quot;required&quot;&#96;</span><br><span class="line">    Password string &#96;form:&quot;password&quot; binding:&quot;required&quot;&#96;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例子：</p>
<h3 id="GET-ShouldBindQuery"><a href="#GET-ShouldBindQuery" class="headerlink" title="GET: ShouldBindQuery"></a>GET: ShouldBindQuery</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">type Student struct &#123;</span><br><span class="line">   Name string &#96;form:&quot;name&quot;&#96;</span><br><span class="line">   Classes string &#96;form:&quot;classes&quot;&#96;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">   engine :&#x3D; gin.Default()</span><br><span class="line">   &#x2F;&#x2F; http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;hello?name&#x3D;lilingj&amp;classes&#x3D;cs</span><br><span class="line">   engine.GET(&quot;&#x2F;hello&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      var student Student</span><br><span class="line">      err :&#x3D; context.ShouldBindQuery(&amp;student)</span><br><span class="line">      if err !&#x3D; nil &#123;</span><br><span class="line">         log.Fatal(err.Error())</span><br><span class="line">         return</span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println(student.Name)</span><br><span class="line">      fmt.Println(student.Classes)</span><br><span class="line">      context.Writer.Write([]byte(&quot;hello&quot; + student.Name))</span><br><span class="line">   &#125;)</span><br><span class="line">   engine.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="POST-ShouldBind"><a href="#POST-ShouldBind" class="headerlink" title="POST: ShouldBind"></a>POST: ShouldBind</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">type Register struct &#123;</span><br><span class="line">   Username string &#96;form:&quot;name&quot;&#96;</span><br><span class="line">   Phone    string &#96;form:&quot;phone&quot;&#96;</span><br><span class="line">   Password string &#96;form:&quot;password&quot;&#96;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">   engine :&#x3D; gin.Default()</span><br><span class="line">   &#x2F;&#x2F; http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;register</span><br><span class="line">   engine.POST(&quot;&#x2F;register&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      register :&#x3D; Register&#123;&#125;</span><br><span class="line">      err :&#x3D; context.ShouldBind(&amp;register)</span><br><span class="line">      if err !&#x3D; nil &#123;</span><br><span class="line">         log.Fatal(err.Error())</span><br><span class="line">         return</span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println(register.Phone + &quot;请求注册&quot;)</span><br><span class="line">      context.Writer.Write([]byte(register.Username + &quot;注册成功&quot;))</span><br><span class="line">   &#125;)</span><br><span class="line">   engine.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="JSON数据-BindJson"><a href="#JSON数据-BindJson" class="headerlink" title="JSON数据: BindJson"></a>JSON数据: BindJson</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">type Person struct &#123;</span><br><span class="line">   Name string &#96;form:&quot;name&quot;&#96;</span><br><span class="line">   Sex  string &#96;form:&quot;sex&quot;&#96;</span><br><span class="line">   Age  int8 &#96;form:&quot;age&quot;&#96;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">   engine :&#x3D; gin.Default()</span><br><span class="line">   &#x2F;&#x2F; http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;addstudent</span><br><span class="line">   engine.POST(&quot;&#x2F;addstudent&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      person :&#x3D; Person&#123;&#125;</span><br><span class="line">      if err :&#x3D; context.BindJSON(&amp;person); err !&#x3D; nil &#123;</span><br><span class="line">         log.Fatal(err.Error())</span><br><span class="line">         return</span><br><span class="line">      &#125;</span><br><span class="line">      context.Writer.Write([]byte(person.Name + &quot;已添加&quot;))</span><br><span class="line">   &#125;)</span><br><span class="line">   engine.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="多数据格式返回结果"><a href="#多数据格式返回结果" class="headerlink" title="多数据格式返回结果"></a>多数据格式返回结果</h2><h3 id="byte格式"><a href="#byte格式" class="headerlink" title="[]byte格式"></a>[]byte格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Write.Write([]byte(&quot;hello&quot;))</span><br></pre></td></tr></table></figure>
<h3 id="string-格式"><a href="#string-格式" class="headerlink" title="string 格式"></a>string 格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.Write.WriteString(&quot;hello&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="JSON格式"><a href="#JSON格式" class="headerlink" title="JSON格式"></a>JSON格式</h3><h4 id="map类型"><a href="#map类型" class="headerlink" title="map类型"></a>map类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">context.JSON(200, map[string]interface&#123;&#125;&#123;</span><br><span class="line">    &quot;code&quot;: 1,</span><br><span class="line">    &quot;message&quot;: &quot;ok&quot;,</span><br><span class="line">    &quot;data&quot;: &quot;hello&quot;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="结构体类型"><a href="#结构体类型" class="headerlink" title="结构体类型"></a>结构体类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">type Response struct &#123;</span><br><span class="line">    Code int</span><br><span class="line">    Message string</span><br><span class="line">    Data interface&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">resp :&#x3D; Response&#123;Code: 1, Message: &quot;OK&quot;, Data: name&#125;</span><br><span class="line">context.JSON(200, resp)</span><br></pre></td></tr></table></figure>
<h3 id="HTML模板"><a href="#HTML模板" class="headerlink" title="HTML模板"></a>HTML模板</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;lilingj 的博客&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;img&gt;</span><br><span class="line">    Hello &#123;&#123;.name&#125;&#125;</span><br><span class="line">    &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;lilingj.github.io&quot;&gt;lilingj的博客&lt;&#x2F;a&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;..&#x2F;img&#x2F;1.gif&quot;&gt;&lt;&#x2F;img&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">   engine :&#x3D; gin.Default()</span><br><span class="line">   &#x2F;&#x2F; 设置静态资源目录</span><br><span class="line">   engine.Static(&quot;&#x2F;img&quot;, &quot;.&#x2F;img&quot;)</span><br><span class="line">   &#x2F;&#x2F; 设置 html 目录</span><br><span class="line">   engine.LoadHTMLGlob(&quot;.&#x2F;html&#x2F;*&quot;)</span><br><span class="line">   engine.GET(&quot;&#x2F;hello&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(context.FullPath())</span><br><span class="line">      name :&#x3D; context.Query(&quot;name&quot;)</span><br><span class="line">      context.HTML(http.StatusOK, &quot;index.html&quot;, gin.H&#123;</span><br><span class="line">         &quot;name&quot;: name,</span><br><span class="line">      &#125;)</span><br><span class="line">   &#125;)</span><br><span class="line">   engine.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="请求路由组的使用"><a href="#请求路由组的使用" class="headerlink" title="请求路由组的使用"></a>请求路由组的使用</h2><p>例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   engine := gin.Default()</span><br><span class="line">   routerGroup := engine.Group(<span class="string">&quot;/user&quot;</span>)</span><br><span class="line">   <span class="comment">// http://127.0.0.1:8080/user/login</span></span><br><span class="line">   routerGroup.POST(<span class="string">&quot;/login&quot;</span>, loginHandle)</span><br><span class="line">   <span class="comment">// http://127.0.0.1:8080/user/132</span></span><br><span class="line">   routerGroup.DELETE(<span class="string">&quot;/:id&quot;</span>, deleteHandle)</span><br><span class="line">   engine.Run(<span class="string">&quot;:8080&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">loginHandle</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">   username := context.PostForm(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">   <span class="comment">//password := context.PostForm(&quot;password&quot;)</span></span><br><span class="line">   fmt.Println(username + <span class="string">&quot;请求登录&quot;</span>)</span><br><span class="line">   context.Writer.WriteString(username + <span class="string">&quot;已登录&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">deleteHandle</span><span class="params">(context *gin.Context)</span></span> &#123;</span><br><span class="line">   userID := context.Param(<span class="string">&quot;id&quot;</span>)</span><br><span class="line">   fmt.Println(userID + <span class="string">&quot;请求删除&quot;</span>)</span><br><span class="line">   context.Writer.WriteString(userID + <span class="string">&quot;已删除&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="中间件的编写和使用"><a href="#中间件的编写和使用" class="headerlink" title="中间件的编写和使用"></a>中间件的编写和使用</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p><img src="https://uploader.shimo.im/f/w7eR0fXEcWUYW0Nl.png!thumbnail" alt="图片"></p>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">   &quot;fmt&quot;</span><br><span class="line">   &quot;github.com&#x2F;gin-gonic&#x2F;gin&quot;</span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">   engine :&#x3D; gin.Default()</span><br><span class="line">   &#x2F;&#x2F; 使用中间件</span><br><span class="line">   engine.Use(RequestInfo())</span><br><span class="line">   &#x2F;&#x2F; http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;query</span><br><span class="line">   engine.GET(&quot;&#x2F;query&quot;, func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(&quot;业务处理逻辑被调用了&quot;)</span><br><span class="line">      context.JSON(200, map[string]interface&#123;&#125;&#123;</span><br><span class="line">         &quot;code&quot;:1,</span><br><span class="line">         &quot;msg&quot;:context.FullPath(),</span><br><span class="line">      &#125;)</span><br><span class="line">   &#125;)</span><br><span class="line">   engine.Run(&quot;:8080&quot;)</span><br><span class="line">&#125;</span><br><span class="line">func RequestInfo() gin.HandlerFunc &#123;</span><br><span class="line">   return func(context *gin.Context) &#123;</span><br><span class="line">      fmt.Println(&quot;中间件被调用了&quot;)</span><br><span class="line">      fmt.Println(&quot;中间件：请求path是&quot; + context.FullPath())</span><br><span class="line">      fmt.Println(&quot;中间件：请求method是&quot; + context.Request.Method)</span><br><span class="line">      &#x2F;&#x2F; 中断中间件，去调用业务处理逻辑</span><br><span class="line">      context.Next()</span><br><span class="line">      fmt.Println(&quot;中间件：业务逻辑返回的状态码是&quot;, context.Writer.Status())</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Gin访问和使用数据库"><a href="#Gin访问和使用数据库" class="headerlink" title="Gin访问和使用数据库"></a>Gin访问和使用数据库</h2><h3 id="安装驱动"><a href="#安装驱动" class="headerlink" title="安装驱动"></a>安装驱动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get github.com&#x2F;go-sql-driver&#x2F;mysql</span><br></pre></td></tr></table></figure>
<h3 id="操作数据库"><a href="#操作数据库" class="headerlink" title="操作数据库"></a>操作数据库</h3><p>例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">   &quot;database&#x2F;sql&quot;</span><br><span class="line">   &quot;fmt&quot;</span><br><span class="line">   _ &quot;github.com&#x2F;go-sql-driver&#x2F;mysql&quot;</span><br><span class="line">   &quot;log&quot;</span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">   &#x2F;&#x2F; 建立连接</span><br><span class="line">   connectStr :&#x3D; &quot;root:nineteen@tcp(127.0.0.1)&#x2F;ginsql&quot;</span><br><span class="line">   db, err :&#x3D; sql.Open(&quot;mysql&quot;, connectStr)</span><br><span class="line">   if err !&#x3D; nil &#123;</span><br><span class="line">      log.Fatal(err.Error())</span><br><span class="line">      return</span><br><span class="line">   &#125;</span><br><span class="line">   &#x2F;&#x2F; 建表</span><br><span class="line">   _, err &#x3D; db.Exec(&quot;create table Person(&quot; +</span><br><span class="line">      &quot;id int auto_increment primary key,&quot; +</span><br><span class="line">      &quot;name varchar(20) not null,&quot; +</span><br><span class="line">      &quot;age int default 1&quot; +</span><br><span class="line">      &quot;);&quot;)</span><br><span class="line">   if err !&#x3D; nil &#123;</span><br><span class="line">      log.Fatal(err.Error())</span><br><span class="line">      fmt.Println(&quot;建表失败&quot;)</span><br><span class="line">   &#125;</span><br><span class="line">   &#x2F;&#x2F; 插入数据</span><br><span class="line">   table :&#x3D; map[string]int&#123;</span><br><span class="line">      &quot;lilingj&quot;:22,</span><br><span class="line">      &quot;zhaox&quot;:21,</span><br><span class="line">      &quot;xiao&quot;:2,</span><br><span class="line">   &#125;</span><br><span class="line">   for name, age :&#x3D; range table &#123;</span><br><span class="line">      _, err &#x3D; db.Exec(&quot;insert into person(name, age)&quot; +</span><br><span class="line">         &quot;values(?, ?)&quot;, name, age)</span><br><span class="line">      if err !&#x3D; nil &#123;</span><br><span class="line">         log.Fatal(err.Error())</span><br><span class="line">         fmt.Println(&quot;插入失败&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   &#x2F;&#x2F; 查询数据</span><br><span class="line">   rows, err :&#x3D; db.Query(&quot;select id, name, age from Person&quot;)</span><br><span class="line">   if err !&#x3D; nil &#123;</span><br><span class="line">      log.Fatal(err.Error())</span><br><span class="line">      fmt.Println(&quot;查询错误&quot;)</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   item :&#x3D; SQLPerson&#123;&#125;</span><br><span class="line">   for rows.Next() &#123;</span><br><span class="line">      err :&#x3D; rows.Scan(&amp;item.Id, &amp;item.Name, &amp;item.Age)</span><br><span class="line">      if err !&#x3D; nil &#123;</span><br><span class="line">         log.Fatal(err.Error())</span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println(item.Id, item.Name, item.Age)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">type SQLPerson struct &#123;</span><br><span class="line">   Id int</span><br><span class="line">   Name string</span><br><span class="line">   Age int</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="项目：云餐厅"><a href="#项目：云餐厅" class="headerlink" title="项目：云餐厅"></a>项目：云餐厅</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><img src="https://uploader.shimo.im/f/SFmMvQAgusV3HlA9.png!thumbnail" alt="图片"></p>
<h3 id="第三方sdk接入"><a href="#第三方sdk接入" class="headerlink" title="第三方sdk接入"></a>第三方sdk接入</h3><p>接入阿里云短信服务</p>
<h3 id="xorm"><a href="#xorm" class="headerlink" title="xorm"></a>xorm</h3><p>orm框架</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get github.com&#x2F;go-xorm&#x2F;xorm</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">type SmsCode struct &#123;</span><br><span class="line">   Id           int64  &#96;xorm:&quot;pk autoincr&quot; json:&quot;id&quot;&#96;</span><br><span class="line">   Phone     string     &#96;xorm:&quot;varchar(11)&quot; json:&quot;phone&quot;&#96;</span><br><span class="line">   BizId     string     &#96;xorm:&quot;varchar(30)&quot; json:&quot;biz_id&quot;&#39;&#96;</span><br><span class="line">   Code      string     &#96;xorm:&quot;varchar(6)&quot; json:&quot;code&quot;&#96;</span><br><span class="line">   CreateTime     int64  &#96;xorm:&quot;bigint&quot; json:&quot;create_time&quot;&#96;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">engine, err :&#x3D; xorm.NewEngine(&quot;mysql&quot;, &quot;root:nineteen@tcp(127.0.0.1:3306)&#x2F;cloudrestaurant?charset&#x3D;utf8&quot;)</span><br><span class="line">engine.ShowSQL(true)</span><br><span class="line">err &#x3D; engine.Sync2(new(SmsCode))</span><br><span class="line">sms &#x3D; new(SmsCode)</span><br><span class="line">sms &#x3D; SmsCode&#123;Phone: phone, Code: &quot;123456&quot;, BizId:&quot;没有&quot;, CreateTime: time.Now().Unix()&#125;</span><br><span class="line">result, err :&#x3D; engine.InsertOne(&amp;sms)</span><br></pre></td></tr></table></figure>
<h2 id="跨域访问设置"><a href="#跨域访问设置" class="headerlink" title="跨域访问设置"></a>跨域访问设置</h2><p>cross origin resource share</p>
<p>跨域访问中间件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;跨域访问：cross  origin resource share</span><br><span class="line">func Cors() gin.HandlerFunc &#123;</span><br><span class="line">   return func(c *gin.Context) &#123;</span><br><span class="line">      method :&#x3D; c.Request.Method      &#x2F;&#x2F;请求方法</span><br><span class="line">      origin :&#x3D; c.Request.Header.Get(&quot;Origin&quot;)        &#x2F;&#x2F;请求头部</span><br><span class="line">      var headerKeys []string                             &#x2F;&#x2F; 声明请求头keys</span><br><span class="line">      for k, _ :&#x3D; range c.Request.Header &#123;</span><br><span class="line">         headerKeys &#x3D; append(headerKeys, k)</span><br><span class="line">      &#125;</span><br><span class="line">      headerStr :&#x3D; strings.Join(headerKeys, &quot;, &quot;)</span><br><span class="line">      if headerStr !&#x3D; &quot;&quot; &#123;</span><br><span class="line">         headerStr &#x3D; fmt.Sprintf(&quot;access-control-allow-origin, access-control-allow-headers, %s&quot;, headerStr)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">         headerStr &#x3D; &quot;access-control-allow-origin, access-control-allow-headers&quot;</span><br><span class="line">      &#125;</span><br><span class="line">      if origin !&#x3D; &quot;&quot; &#123;</span><br><span class="line">         c.Writer.Header().Set(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)</span><br><span class="line">         c.Header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)        &#x2F;&#x2F; 这是允许访问所有域</span><br><span class="line">         c.Header(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, PUT, DELETE,UPDATE&quot;)      &#x2F;&#x2F;服务器支持的所有跨域请求的方法,为了避免浏览次请求的多次&#39;预检&#39;请求</span><br><span class="line">         &#x2F;&#x2F;  header的类型</span><br><span class="line">         c.Header(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization, Content-Length, X-CSRF-Token, Token,session,X_Requested_With,Accept, Origin, Host, Connection, Accept-Encoding, Accept-Language,DNT, X-CustomHeader, Keep-Alive, User-Agent, X-Requested-With, If-Modified-Since, Cache-Control, Content-Type, Pragma&quot;)</span><br><span class="line">         &#x2F;&#x2F;              允许跨域设置                                                                                                      可以返回其他子段</span><br><span class="line">         c.Header(&quot;Access-Control-Expose-Headers&quot;, &quot;Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers,Cache-Control,Content-Language,Content-Type,Expires,Last-Modified,Pragma,FooBar&quot;)      &#x2F;&#x2F; 跨域关键设置 让浏览器可以解析</span><br><span class="line">         c.Header(&quot;Access-Control-Max-Age&quot;, &quot;172800&quot;)        &#x2F;&#x2F; 缓存请求信息 单位为秒</span><br><span class="line">         c.Header(&quot;Access-Control-Allow-Credentials&quot;, &quot;false&quot;)       &#x2F;&#x2F;  跨域请求是否需要带cookie信息 默认设置为true</span><br><span class="line">         c.Set(&quot;content-type&quot;, &quot;application&#x2F;json&quot;)       &#x2F;&#x2F; 设置返回格式是json</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;&#x2F;放行所有OPTIONS方法</span><br><span class="line">      if method &#x3D;&#x3D; &quot;OPTIONS&quot; &#123;</span><br><span class="line">         c.JSON(http.StatusOK, &quot;Options Request!&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;&#x2F; 处理请求</span><br><span class="line">      c.Next()        &#x2F;&#x2F;  处理请求</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="验证码"><a href="#验证码" class="headerlink" title="验证码"></a>验证码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get -ugithub.com&#x2F;mojocn&#x2F;base64Captcha</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/24/%E3%80%8A%E5%9B%BE%E8%A7%A3%E5%AF%86%E7%A0%81%E6%8A%80%E6%9C%AF%E3%80%8B%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/24/%E3%80%8A%E5%9B%BE%E8%A7%A3%E5%AF%86%E7%A0%81%E6%8A%80%E6%9C%AF%E3%80%8B%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">《图解密码技术》笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-24 22:17:26" itemprop="dateCreated datePublished" datetime="2020-10-24T22:17:26+08:00">2020-10-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-27 16:19:48" itemprop="dateModified" datetime="2020-10-27T16:19:48+08:00">2020-10-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="学英语"><a href="#学英语" class="headerlink" title="学英语"></a>学英语</h1><ul>
<li>cryptography：密码学。加密书写符号，安全传输消息的方法。  </li>
<li>eavesdropper：窃听者  </li>
<li>encrypt/decrypt：加密/解密  </li>
<li>plaintext：明文  </li>
<li>ciphertext：密文  </li>
<li>confidentiality：机密性</li>
<li>cryptanalysis：密码分析、破译  </li>
<li>cryptanalyst：破译者  </li>
<li>symmtric：对称的</li>
<li>asymmetric：非对称的  </li>
<li>hybrid：混合的  </li>
<li>authentication：认证、身份认证</li>
<li>spoofing：伪装、欺骗<h1 id="第一章-环游密码世界"><a href="#第一章-环游密码世界" class="headerlink" title="第一章 环游密码世界"></a>第一章 环游密码世界</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2></li>
<li>密码算法：加密、解密算法合在一起称为~  </li>
<li>完整性：数据是正牌不是伪造的</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/22/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95Java%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/22/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95Java%E5%AE%9E%E7%8E%B0/" class="post-title-link" itemprop="url">排序算法Java实现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-22 12:49:53" itemprop="dateCreated datePublished" datetime="2020-10-22T12:49:53+08:00">2020-10-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-23 11:55:25" itemprop="dateModified" datetime="2020-10-23T11:55:25+08:00">2020-10-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="排序的基本概念"><a href="#排序的基本概念" class="headerlink" title="排序的基本概念"></a>排序的基本概念</h1><h2 id="排序的稳定性："><a href="#排序的稳定性：" class="headerlink" title="排序的稳定性："></a>排序的稳定性：</h2><p>&emsp;&emsp; 排序后相等的元素顺序没变，则排序是稳定的，否则是不稳定的</p>
<h2 id="内部排序-amp-外部排序："><a href="#内部排序-amp-外部排序：" class="headerlink" title="内部排序&amp;外部排序："></a>内部排序&amp;外部排序：</h2><p>&emsp;&emsp; 内部排序：待排序元素存放在内存中进行排序的过程。<br/><br>&emsp;&emsp; 外部排序：排序元素量很大，内存不能一次全容纳，排序过程中需要访问外存。</p>
<h2 id="内部排序方法的分类"><a href="#内部排序方法的分类" class="headerlink" title="内部排序方法的分类"></a>内部排序方法的分类</h2><p>&emsp;&emsp; <code>内部排序的过程</code>是一个逐步扩大记录的有序序列长度的过程。在排序过程中，可以将排序的记录区域分为两个：有序的序列区和无序的序列区。<br>&emsp;&emsp;使有序区中记录的数目增加一个或几个的操作称为<code>一趟排序</code><br>&emsp;&emsp;根据逐步扩大记录有序序列长度原则不同，将内部排序分为以下五类：  </p>
<ul>
<li>插入类：将无序序列区中的元素插入有序序列区<ul>
<li>直接插入排序</li>
<li>折半插入排序</li>
<li>希尔排序 </li>
</ul>
</li>
<li>交换类：交换无序序列中的元素，选出最小或最大元素，并将其加入到有序序列中<ul>
<li>冒泡排序</li>
<li>快速排序</li>
</ul>
</li>
<li>选择类：从无序序列中选择最小或最大记录，并将其加入到有序序列中<ul>
<li>简单选择排序</li>
<li>树形选择排序（改进为堆排序）</li>
<li>堆排序</li>
</ul>
</li>
<li>归并类：归并两个或以上的有序序列，逐步增大有序序列</li>
<li>分配类：唯一一类不需要进行关键字之间比较的排序方法，主要利用分配和收集两种基本操作来完成。</li>
</ul>
<h1 id="一、插入排序"><a href="#一、插入排序" class="headerlink" title="一、插入排序"></a>一、插入排序</h1><p>稳定的<br>平均O(n<sup>2</sup>)</p>
<h2 id="直接插入排序"><a href="#直接插入排序" class="headerlink" title="直接插入排序"></a>直接插入排序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InsertSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insertSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//下标从 1 开始，nums[0] 为监视哨</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">//下标1 - (i - 1) 的区域为有序区，将下标为 i 的元素插入有序区</span></span><br><span class="line">			<span class="keyword">if</span>(nums[i] &lt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">				<span class="comment">//从后往前扫描，挨个后移，直到经过比较找到插入位置</span></span><br><span class="line">				nums[<span class="number">0</span>] = nums[i];</span><br><span class="line">				nums[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">				<span class="keyword">int</span> j = i - <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">for</span>(; nums[j] &gt; nums[<span class="number">0</span>]; j--) &#123;</span><br><span class="line">					nums[j + <span class="number">1</span>] = nums[j];</span><br><span class="line">				&#125;</span><br><span class="line">				nums[j + <span class="number">1</span>] = nums[<span class="number">0</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		insertSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="折半插入排序"><a href="#折半插入排序" class="headerlink" title="折半插入排序"></a>折半插入排序</h2><p>与直接插入相比，只是先用二分查找到了插入点，然后插入。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BInsertSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 从下标范围在[l, r]的数组nums中，找到第一个大于val的元素的下标并返回</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rSearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">			<span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>(nums[mid] &gt; val) &#123;</span><br><span class="line">				r = mid - <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				l = mid + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bInsertSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> insertpoint = rSearch(nums, <span class="number">1</span>, i - <span class="number">1</span>, nums[i]);</span><br><span class="line">			nums[<span class="number">0</span>] = nums[i];</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt; insertpoint; j--) &#123;</span><br><span class="line">				nums[j] = nums[j - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			nums[insertpoint] = nums[<span class="number">0</span>];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		bInsertSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="两个算法的区别"><a href="#两个算法的区别" class="headerlink" title="两个算法的区别"></a>两个算法的区别</h2><p>&emsp;&emsp;书上说通过数据规模的不同选取两种算法，显然是错的。折半插入排序与直接插入排序相比，只是减少了元素相比较次数。如果两个元素比较的复杂度很大，应该选取折半插入排序，否则应该选取直接插入排序。<br>&emsp;&emsp;例如，对字符串排序，假设字符串都是1e5长度的，且前1e5个字符都相同，最后几个不同，那么采用直接插入排序，<code>for(; nums[j] &gt; nums[0]; j--)</code> 这个后移用的循环语句中的条件 <code>nums[j] &gt; nums[0]</code>（字符串比较），每次都要比较一次1e5的字符串，几乎是两重循环，故不宜选取。</p>
<h2 id="ps：二分查找，大于的下标和大于等于的下标"><a href="#ps：二分查找，大于的下标和大于等于的下标" class="headerlink" title="ps：二分查找，大于的下标和大于等于的下标"></a>ps：二分查找，大于的下标和大于等于的下标</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从下标范围在[l, r]的数组nums中，找到第一个 [大于等于] val的元素的下标并返回</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lSearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(nums[mid] &gt;= val) &#123;</span><br><span class="line">			r = mid - <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			l = mid + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从下标范围在[l, r]的数组nums中，找到第一个 [大于] val的元素的下标并返回</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rSearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(nums[mid] &gt; val) &#123;</span><br><span class="line">			r = mid - <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			l = mid + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="二、希尔排序"><a href="#二、希尔排序" class="headerlink" title="二、希尔排序"></a>二、希尔排序</h1><p>不稳定的<br>复杂度可以到O(n<sup>3/2</sup>)，不确定  </p>
<p>&emsp;&emsp;将元素按步长d<sub>k</sub>（d<sub>k</sub> &lt; nums.length）分组。即从第一个元素开始每隔d<sub>k</sub>选取一个元素，这些元素在同一个组内，再从第二个元素开始每隔d<sub>k</sub>选取一个元素，这些元素在同一个组内……最后分出d<sub>k</sub>组，对这d<sub>k</sub>个组分别进行<code>插入排序</code>。选取逐渐减小的d<sub>k</sub>，直至 d<sub>k</sub> = 1 重复上述过程。<br>&emsp;&emsp;当 d<sub>k</sub> = 1 时，希尔排序相当于插入排序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShellSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">shellInsert</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> dk)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 不必先找出一组，然后进行插入排序，再找出一组，再排序……</span></span><br><span class="line">		<span class="comment">// 而是并发地对各组进行插入排序，这样代码更好看</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = dk + <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(nums[i] &lt; nums[i - dk]) &#123;</span><br><span class="line">				nums[<span class="number">0</span>] = nums[i];</span><br><span class="line">				nums[i] = nums[i - dk];</span><br><span class="line">				<span class="keyword">int</span> j = i - <span class="number">2</span> * dk;</span><br><span class="line">				<span class="keyword">for</span>(; j &gt; <span class="number">0</span> &amp;&amp; nums[<span class="number">0</span>] &gt; nums[j]; j -= dk) &#123;</span><br><span class="line">					nums[j + dk] = nums[j];</span><br><span class="line">				&#125;</span><br><span class="line">				nums[j + dk] = nums[<span class="number">0</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> d[])</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 下标从 1 开始，0 号作为监视哨</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d.length; i++) &#123;</span><br><span class="line">			shellInsert(nums, d[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		<span class="keyword">int</span>[] d = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>&#125;;</span><br><span class="line">		shellSort(nums, d);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>增量序列应该选取没有除 1 以外的公因子，保证每次排序都尽可能错开。</p>
<h1 id="三、冒泡排序"><a href="#三、冒泡排序" class="headerlink" title="三、冒泡排序"></a>三、冒泡排序</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BubbleSort</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(nums[j] &gt; nums[j + <span class="number">1</span>]) &#123;</span><br><span class="line">					<span class="keyword">int</span> tmp = nums[j];</span><br><span class="line">					nums[j] = nums[j + <span class="number">1</span>];</span><br><span class="line">					nums[j + <span class="number">1</span>] = tmp;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		bubbleSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="四、快速排序"><a href="#四、快速排序" class="headerlink" title="四、快速排序"></a>四、快速排序</h1><p>不稳定  </p>
<p>&emsp;&emsp;选取第一个元素值为pivot，设置指针 low 和 high 分别指向待排序列表首位。high 慢慢减少，直到找到小于 pivot 的值，将其赋值给 low 处，low 慢慢增加，直到找到大于 pivot 的值，将其赋值给 high 处，重复这个过程，直到 low == high，将pivot 的值赋值给 low（high）处。这时 pivot 左边的值全小于 pivot，而右边的值全大于 pivot。<br>&emsp;&emsp;以 pivot 为分割点，将列表分为两个列表以及 pivot，对着两个列表再执行上述操作，直至列表只有 0 个或 1 个元素，这时整个列表有序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickSort</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">qSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(l &gt;= r) &#123;</span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> low = l;</span><br><span class="line">		<span class="keyword">int</span> high = r;</span><br><span class="line">		<span class="keyword">int</span> pivot = nums[l];</span><br><span class="line">		<span class="keyword">while</span>(high &gt; low &amp;&amp; nums[high] &gt;= pivot) &#123;</span><br><span class="line">			high--;</span><br><span class="line">		&#125;</span><br><span class="line">		nums[low] = nums[high];</span><br><span class="line">		<span class="keyword">while</span>(high &gt; low &amp;&amp; nums[low] &lt;= pivot) &#123;</span><br><span class="line">			low++;</span><br><span class="line">		&#125;</span><br><span class="line">		nums[high] = nums[low];</span><br><span class="line">		nums[low] = pivot;</span><br><span class="line">		qSort(nums, l, low - <span class="number">1</span>);</span><br><span class="line">		qSort(nums, low + <span class="number">1</span>, r);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		qSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		quickSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最好时间复杂度为O(nlog<sub>2</sub>n)，出现在列表完全混乱到每次总是平分两个列表<br>最坏时间复杂度为O(n<sup>2</sup>)，出现在要排序的列表已经是目标列表时。</p>
<h1 id="五、选择排序"><a href="#五、选择排序" class="headerlink" title="五、选择排序"></a>五、选择排序</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SelectSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> minnumidx = i;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(nums[j] &lt; nums[minnumidx]) &#123;</span><br><span class="line">					minnumidx = j;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">			nums[i] = nums[minnumidx];</span><br><span class="line">			nums[minnumidx] = tmp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		selectSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="六、堆排序"><a href="#六、堆排序" class="headerlink" title="六、堆排序"></a>六、堆排序</h1><p>还是写最简单的情况，大根堆求升序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HeapSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 调整 nums 中从 rootidx 到 end 的堆</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapAdjust</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> rootidx, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> rootval = nums[rootidx];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span> * rootidx; i &lt;= end; i *= <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i + <span class="number">1</span> &lt;= end &amp;&amp; nums[i + <span class="number">1</span>] &gt; nums[i]) &#123;</span><br><span class="line">				i = i + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(rootval &gt; nums[i]) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			nums[rootidx] = nums[i];</span><br><span class="line">			rootidx = i;</span><br><span class="line">		&#125;</span><br><span class="line">		nums[rootidx] = rootval;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">creatHeap</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 下标从 1 开始，故堆中有 n 个元素</span></span><br><span class="line">		<span class="keyword">int</span> n = nums.length - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = n / <span class="number">2</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">			heapAdjust(nums, i, nums.length - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		creatHeap(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt;<span class="number">1</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">			nums[i] = nums[<span class="number">1</span>];</span><br><span class="line">			nums[<span class="number">1</span>] = tmp;</span><br><span class="line">			heapAdjust(nums, <span class="number">1</span>, i - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		heapSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="题目：求最小的k个数"><a href="#题目：求最小的k个数" class="headerlink" title="题目：求最小的k个数"></a>题目：求最小的k个数</h2><p>&emsp;&emsp;使用nums中的k个元素，创建一个容量为k的大根堆，遍历剩下的元素，每一次都替换大根堆的最大元素，并调整使其还是大根堆，这样可以保证最后堆内的k个元素一定是最小的k个。<br>&emsp;&emsp;算法复杂度O(nlog<sub>2</sub>k)  </p>
<p>贴两个函数，和上面代码配套使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回k个最小值的数组，下标从 1 开始</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] kMinNum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">	<span class="keyword">int</span>[] kheap = <span class="keyword">new</span> <span class="keyword">int</span>[k + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">		kheap[i] = nums[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	creatHeap(kheap);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = k + <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(nums[i] &lt; kheap[<span class="number">1</span>]) &#123;</span><br><span class="line">			kheap[<span class="number">1</span>] = nums[i];</span><br><span class="line">			heapAdjust(kheap, <span class="number">1</span>, kheap.length - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> kheap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> k = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span>[] kheap = kMinNum(nums, k);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; kheap.length; i++) &#123;</span><br><span class="line">		System.out.print(kheap[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="七、归并排序"><a href="#七、归并排序" class="headerlink" title="七、归并排序"></a>七、归并排序</h1><p>&emsp;&emsp;二路归并排序：将两个有序数组合并成为一个有序数组。由上至下递归拆分数组，由下至上递归合并数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MergeSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[] tmp, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(l &gt;= r) &#123; <span class="comment">// 已经有序</span></span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">		mSort(nums, tmp, l, m);</span><br><span class="line">		mSort(nums, tmp, m + <span class="number">1</span>, r);</span><br><span class="line">		<span class="comment">// 此时两个数组都有序，合并两个数组</span></span><br><span class="line">		<span class="keyword">int</span> idx = l;</span><br><span class="line">		<span class="keyword">int</span> idx1 = l;</span><br><span class="line">		<span class="keyword">int</span> idx2 = m + <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(idx1 &lt;= m &amp;&amp; idx2 &lt;= r) &#123;</span><br><span class="line">			<span class="keyword">if</span>(nums[idx1] &lt; nums[idx2]) &#123;</span><br><span class="line">				tmp[idx++] = nums[idx1++];</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				tmp[idx++] = nums[idx2++];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(idx1 &lt;= m) &#123;</span><br><span class="line">			tmp[idx++] = nums[idx1++];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(idx2 &lt;= r) &#123;</span><br><span class="line">			tmp[idx++] = nums[idx2++];</span><br><span class="line">		&#125;</span><br><span class="line">		idx = l;</span><br><span class="line">		<span class="keyword">while</span>(idx &lt;= r) &#123;</span><br><span class="line">			nums[idx] = tmp[idx++];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		mSort(nums, <span class="keyword">new</span> <span class="keyword">int</span>[nums.length], <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		mergeSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="八、基数排序"><a href="#八、基数排序" class="headerlink" title="八、基数排序"></a>八、基数排序</h1><p>&emsp;&emsp;不断地分配、收集的过程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RadixSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> val;</span><br><span class="line">		Node next;</span><br><span class="line">		Node(<span class="keyword">int</span> val) &#123;</span><br><span class="line">			<span class="keyword">this</span>.val = val;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">radixSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 把nums转换为链表存储</span></span><br><span class="line">		Node[] heads = <span class="keyword">new</span> Node[<span class="number">10</span>];</span><br><span class="line">		Node[] tails = <span class="keyword">new</span> Node[<span class="number">10</span>];</span><br><span class="line">		Node head = <span class="keyword">null</span>;</span><br><span class="line">		Node tail = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">			Node tmp = <span class="keyword">new</span> Node(val);</span><br><span class="line">			tmp.next = <span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">if</span>(head == <span class="keyword">null</span>) &#123;</span><br><span class="line">				head = tail = tmp;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				tail.next = tmp;</span><br><span class="line">				tail = tail.next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// cou 记录基数为 0 的链上的节点数，如果等于总节点数，则已经排好序</span></span><br><span class="line">		<span class="keyword">int</span> cou = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> rad = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(cou != nums.length) &#123;</span><br><span class="line">			cou = <span class="number">0</span>;</span><br><span class="line">			rad = rad * <span class="number">10</span>;</span><br><span class="line">			tail = head;</span><br><span class="line">			<span class="comment">// 分配</span></span><br><span class="line">			<span class="keyword">while</span>(tail != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">int</span> radix = (tail.val / (rad / <span class="number">10</span>)) % <span class="number">10</span>;</span><br><span class="line">				<span class="keyword">if</span>(radix == <span class="number">0</span>) &#123;</span><br><span class="line">					cou++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(heads[radix] == <span class="keyword">null</span>) &#123;</span><br><span class="line">					heads[radix] = tails[radix] = tail;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					tails[radix].next = tail;</span><br><span class="line">					tails[radix] = tails[radix].next;</span><br><span class="line">				&#125;</span><br><span class="line">				tail = tail.next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 收集</span></span><br><span class="line">			head = tail = <span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(heads[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				tails[i].next = <span class="keyword">null</span>;</span><br><span class="line">				tails[i] = heads[i];</span><br><span class="line">				<span class="keyword">while</span>(tails[i] != <span class="keyword">null</span>) &#123;</span><br><span class="line">					<span class="keyword">if</span>(head == <span class="keyword">null</span>) &#123;</span><br><span class="line">						head = tail = tails[i];</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						tail.next = tails[i];</span><br><span class="line">						tail = tail.next;</span><br><span class="line">					&#125;</span><br><span class="line">					tails[i] = tails[i].next;</span><br><span class="line">				&#125;</span><br><span class="line">				heads[i] = <span class="keyword">null</span>;</span><br><span class="line">				<span class="comment">//System.out.println(&quot;fuck you!&quot;);</span></span><br><span class="line">			&#125;</span><br><span class="line">			tail.next = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 链表转换为数组</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			nums[i] = head.val;</span><br><span class="line">			head = head.next;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		radixSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="九、基数排序"><a href="#九、基数排序" class="headerlink" title="九、基数排序"></a>九、基数排序</h1><p>&emsp;&emsp;只能排序整数，且最大最小值不能差太大</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountingSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">cSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> d, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] cou = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">			cou[val - d]++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cou.length; i++) &#123;</span><br><span class="line">			<span class="keyword">while</span>(cou[i] != <span class="number">0</span>) &#123;</span><br><span class="line">				nums[idx++] = i + d;</span><br><span class="line">				cou[i]--;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">countingSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> minnum = nums[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">int</span> maxnum = nums[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">			<span class="keyword">if</span>(val &gt; minnum) &#123;</span><br><span class="line">				maxnum = val;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(val &lt; maxnum) &#123;</span><br><span class="line">				minnum = val;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cSort(nums, minnum, maxnum - minnum + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>, -<span class="number">100</span>&#125;;</span><br><span class="line">		countingSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="十、桶排序"><a href="#十、桶排序" class="headerlink" title="十、桶排序"></a>十、桶排序</h1><p>&emsp;&emsp;根据某种规则划分元素到不同的桶，桶之间是有序的，再对桶内元素选择一种方法排序，最后按桶的大小关系依次合起来。<br>&emsp;&emsp;代码略。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/13/%E4%BF%9D%E7%A0%94%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/13/%E4%BF%9D%E7%A0%94%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">保研记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-13 21:15:57" itemprop="dateCreated datePublished" datetime="2020-10-13T21:15:57+08:00">2020-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-18 08:48:40" itemprop="dateModified" datetime="2020-10-18T08:48:40+08:00">2020-10-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="保研记录"><a href="#保研记录" class="headerlink" title="保研记录"></a>保研记录</h1><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>&emsp;&emsp;最近看了一下知乎上关于保研踩坑的问题，惊出一身冷汗，看到好多人和我一样，一直到最后一刻都没什么不同，只不过我待录取，他们被鸽了。谢天谢地，我联系的老师，跟我们保证的都做到了。（<font color=#f9eda6>张贺老师是个讲信用的老师，十分推荐！</font>）<br><br/><br><br/></p>
<h4 id="夏令营报名"><a href="#夏令营报名" class="headerlink" title="夏令营报名"></a>夏令营报名</h4><ul>
<li>北航</li>
<li>北京理工</li>
<li>大连理工</li>
<li>电子科大</li>
<li>东北大学</li>
<li>湖南大学</li>
<li>吉林大学</li>
<li>山东大学</li>
<li>中国海洋大学</li>
<li>中南大学</li>
<li>东南大学软件学院</li>
<li>南京大学软件学院</li>
</ul>
<h4 id="夏令营入营"><a href="#夏令营入营" class="headerlink" title="夏令营入营"></a>夏令营入营</h4><ul>
<li>中国海洋大学</li>
<li>吉林大学</li>
<li>东北大学</li>
<li>湖南大学</li>
<li>南京大学软件学院</li>
</ul>
<h4 id="夏令营优秀营员"><a href="#夏令营优秀营员" class="headerlink" title="夏令营优秀营员"></a>夏令营优秀营员</h4><ul>
<li>中国海洋大学</li>
<li>东北大学</li>
</ul>
<h4 id="夏令营良好营员"><a href="#夏令营良好营员" class="headerlink" title="夏令营良好营员"></a>夏令营良好营员</h4><ul>
<li>南京大学软件学院</li>
<li>湖南大学</li>
</ul>
<h4 id="保研流水记录"><a href="#保研流水记录" class="headerlink" title="保研流水记录"></a>保研流水记录</h4><p>&emsp;&emsp;疫情爆发一直在家待着，从家前菜园里盖着雪的油菜刚冒出来，到比我还高开花结籽，卖了油菜收了麦子又种上棉花，我在楼上挂着网课，看着烈阳把棉花慢慢爆出棉絮，生活缓慢悠长。<br/></p>
<p>&emsp;&emsp;悠游的日子都快让我忘了保研的事，直到六月底Z才提醒我，我们开始写简历，准备材料，给宿管阿姨打电话，让她把我们宿舍的证书拍照发给了我们。<br/></p>
<p>&emsp;&emsp;我们开始只入营了吉林大学和中国海洋大学，准备面试期间有吉大的学长联系了我们，想给他导师拉人，可惜吉大是处女站，没有经验，而且吉大只面了几分钟——整个夏令营就一个面试，面试就几分钟。好像马上就出了结果，我们落榜。随后马上面了海大，没答上来什么题，两个人面完都觉得悬。<br/></p>
<p>&emsp;&emsp;我们等海大结果等了很久，吉大学长联系我们后，我一度看不起山东大学，等吉大结果一出来，加之海大面试感觉与吉大没什么不同，估计也进不了，顿时山东大学都不敢妄想，开始找普通211夏令营，甚至一度宽慰Z（自慰？）大不了本校垫底。<br/></p>
<p>&emsp;&emsp;幸好随后海大收了我们，Z学硕，我专硕。又面了湖南大学，一度想能去岳麓书院做个酸臭书生，奈何湖大夏令营近400人，给了我们倒数的名次，说是不分优秀只按排名先后录取，但是我还是有点生气——我再差也不至于此吧。据后来情况看，近400多只鸽子应该是鸽完了，凌晨给我打电话，下午又给我打，中间还有同学在群里拉人……可怜。<br/></p>
<p>&emsp;&emsp;再后来就是面东大和南大，都是先机试再面试，都很顺利。总共入营五个，只有南软我们是事先无意通过以往保南软的学长联系的老师。五个中一个被刷了，两个稳了，剩下湖大和南大我们都是候补，湖大按排名录我们排名非常靠后，南大给我们的是良好。<br/></p>
<p>&emsp;&emsp;夏令营告一段落后过了很长时间，张老师联系我们，我们加入老师实验室学习。直到九月开学，在封闭的学校中焦急等待，不知道能不能保研，保研了能不能去南大，在焦虑中还不能放松，每周都得学习并向南大实验室学长汇报。最焦虑的一段时间里，我开始用学习麻痹自己。<br/></p>
<p>&emsp;&emsp;直到交了保研申请表和材料，和Z一起痛苦地等待到公示的那一刻，我们在IT职业道德课上紧张地从最后开始看那张别人发过来的模糊的公示表，看到Z的名字，我们紧绷的筋才松了一根。<br/></p>
<p>&emsp;&emsp;十二号系统开放，我们从零点开始填志愿，南大东大海大。没过多久东大海大催我们尽快接受录取，我们艰难地拒绝，我们孤注一掷。那时我感觉我们的人生开始剧烈地频闪。期间老师不断告诉我们一定会录，这是在命运的阴影下两个惶惶小人唯一的安慰。后来我看到一个帖子，他们老师也是这样给他们说的，直到12号晚，老师突然告诉他们名额没了。<br/></p>
<p>&emsp;&emsp;我想我们都假想过是否能保研，保不上何去何从，假想过十二号那天被录取后开心的日子，假想过落榜后的人生……这棵简单的二叉树就足够将我们的人生折腾得天翻地覆<br><br/><br><br/></p>
<h4 id="保研经验"><a href="#保研经验" class="headerlink" title="保研经验"></a>保研经验</h4><p>&emsp;&emsp;我们学校排名按综合分算，综合分 = 0.85 * 智育分 + 0.15 * （0.7 * 科研 + 0.3 * 乱七八糟），要保研，智育和科研分得上得去。<br/></p>
<p>&emsp;&emsp;智育就靠平时考试，我们学校考试多，考试简单，考前多突击学习，考前的课多听，老师喜欢透题。另外，给分不多的选修就不要选了，给分不多的必修也可以换老师。<br/></p>
<p>&emsp;&emsp;科研分就得多参加比赛才能拿了，尤其是ACM和数学建模，软件著作权一定要买（很后悔没弄两个，要是不会的话可以问老师），还有一些杂七杂八的比赛。<br/></p>
<p>&emsp;&emsp;还有一些基本条件</p>
<ul>
<li>不能挂科</li>
<li>不能有处分</li>
<li>得过四级<br/>

</li>
</ul>
<p>&emsp;&emsp;另外，操行评等对保研没有影响，如果不想拿国奖（8000元）等一些奖的话，加德育的讲座啥的不想去完全可以不用去。没有双优有贫困等级可以拿国励（5000元）。<br><br/><br><br/></p>
<h4 id="夏令营经验"><a href="#夏令营经验" class="headerlink" title="夏令营经验"></a>夏令营经验</h4><p>&emsp;&emsp;按Z的经验，首先一定是联系导师，在参加夏令营之前就联系导师，保研后才知道几个大佬都是先联系的导师，在后来夏令营中可能会有很大方便，毕竟保研不是高考，公平性并不高。<br/></p>
<p>&emsp;&emsp;其次，准备好机试，都是一些简单的题，深搜递归就搞定，再难的也不会做了。还可能有面向对象的题，这玩意就是考语法，面向对象那些各种语言的语法记住就行。<br/></p>
<p>&emsp;&emsp;第三，准备好专业课，夏令营中被问的最多的是《计算机网络》、《数据结构》、《操作系统》，但凡我复习一下我也不会一个都没答上来。<br/></p>
<p>&emsp;&emsp;第四，英语口语。一是自我介绍，背就完事。二是提问，刚就完事，老师说请用英文介绍一下你学校，答曰不会，老师说介绍一下哈尔滨，答曰不会，老师说有会的吗？答曰自我介绍。<br/></p>
<p>&emsp;&emsp;第五，如果你是党员，基本的东西得背，不然问你社会基本矛盾是什么，哦豁，完蛋。<br/></p>
<p>&emsp;&emsp;最后，也是最重要的是，如果你也像我一样喜欢直言不会，那你写在简历上的东西就很重要了，尤其是项目。对于我这种项目都没有的，幸好我在平时用python写了一些小工具，当项目写在简历上了。比如我有一个“使用selenium库自动化测试学习强国网页的图形化工具”项目，老师问了半天，怼我说这不就是个学习强国刷分脚本吗？那我当然不能承认。<br/></p>
<p>&emsp;&emsp;总之，事先联系导师，练练手敲代码，复习好专业课，练练英语口语，政治基本常识知道，简历上的项目准备好被老师刨根问底。<br><br/><br><br/></p>
<h4 id="杂"><a href="#杂" class="headerlink" title="杂"></a>杂</h4><p>&emsp;&emsp;保研已经算是进社会了，社会险恶，不要忘恩负义，更不要轻信别人。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/20/%E4%BB%A5%E4%B8%8B%E6%96%87%E7%AB%A0%E6%8E%92%E7%89%88%E6%9C%89%E9%97%AE%E9%A2%98%EF%BC%8C%E7%9C%8B%E8%BF%99%E9%87%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/20/%E4%BB%A5%E4%B8%8B%E6%96%87%E7%AB%A0%E6%8E%92%E7%89%88%E6%9C%89%E9%97%AE%E9%A2%98%EF%BC%8C%E7%9C%8B%E8%BF%99%E9%87%8C/" class="post-title-link" itemprop="url">以下文章排版有问题，看这里</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-20 23:55:29" itemprop="dateCreated datePublished" datetime="2020-09-20T23:55:29+08:00">2020-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-21 00:04:27" itemprop="dateModified" datetime="2020-09-21T00:04:27+08:00">2020-09-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>用石墨文档记的笔记，但是它的语法好像和主流的有点问题，导出来是乱的，下面补上石墨的链接<br><a target="_blank" rel="noopener" href="https://shimo.im/docs/xkxpcRQ6C6RxY9ty/">Shell简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/jqK96GwDQxkXkWkt/">大学赚钱</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/cRCVjgcPdX39Qt8J/">k8s简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/hTWgxDjp36kGQ9yd/">git简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/Thy8VGY99ydrjTdt/">Linux简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/DHYTQcqJC9HTrwCX/">Docker简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/hWPjD3HYq9wqX3yx/">Go简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/pgPxRpcgYjg9tqcR/">区块链笔记</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/20/hyperledger%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/20/hyperledger%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">hyperledger简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-09-20 23:26:27 / 修改时间：23:37:16" itemprop="dateCreated datePublished" datetime="2020-09-20T23:26:27+08:00">2020-09-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h3><ul>
<li>理解Hyperledger fabric 1.1的基本概念和软件架构；</li>
<li>能根据企业业务情况，分析Hyperledger fabric 的应用场景；</li>
<li>熟悉Hyperledger fabric的关键组件：peer，ordering service，ca和msp。</li>
<li>能够建立测试网络，使用node sdk编写应用程序。</li>
<li>能够使用nodejs编写链码。</li>
<li>能够参与到Hyperledger fabric开源项目的讨论和开发中</li>
</ul>
<h1 id="Hyperledger-fabric-简介"><a href="#Hyperledger-fabric-简介" class="headerlink" title="Hyperledger fabric 简介"></a>Hyperledger fabric 简介</h1><p>hyperledger fabric 是基于区块链的企业级分布式账本技术，通过智能合约解决多个组织之间的信任问题</p>
<ul>
<li>模块化</li>
<li>可扩展</li>
<li>超安全</li>
</ul>
<h1 id="重要名词"><a href="#重要名词" class="headerlink" title="重要名词"></a>重要名词</h1><ul>
<li>Hyperledger：由linux基金会孵化的区块链技术</li>
<li>Hyperledger Fabirc：第一个孵化出的商用DLT框架</li>
<li>Hyperledger composer：一个在DLT框架上创建的商业应用的工具</li>
<li>MSP（Membership Service Provider）：只是一个接口，管理Roles 和 Access Restrictions</li>
<li>fabric ca：一个高质量工具，帮助我们自动生成证书。ca可以为不同用户生成不同证书。支持链式继承，上一级别的ca可以很容易作废下一级证书</li>
<li>chaincode：chaincode可以获取用户证书</li>
</ul>
<h1 id="Hyperledger为什么特别适合企业级开发"><a href="#Hyperledger为什么特别适合企业级开发" class="headerlink" title="Hyperledger为什么特别适合企业级开发"></a>Hyperledger为什么特别适合企业级开发</h1><ul>
<li>premissioned network 授权网络<ul>
<li>access control</li>
</ul>
</li>
<li>transaction 是可以控制可见性的</li>
<li>no cryptocurrency 无数字货币<ul>
<li>没有矿工，低成本，验证操作灵活 </li>
</ul>
</li>
<li>programmable 可编程<ul>
<li>chaincode（smart contract 智能合约）</li>
</ul>
</li>
<li>使用Hyperledger可以创建私有链、联盟链和公有链 </li>
<li>Hyperledger 没有 51% 攻击，没有挖矿的概念，因为 Hyperledger 采用了独特的共识协议，每个共识协议的参与者都是由CA来认证的</li>
</ul>
<h1 id="Assets，chaincode-amp-ledger"><a href="#Assets，chaincode-amp-ledger" class="headerlink" title="Assets，chaincode&amp;ledger"></a>Assets，chaincode&amp;ledger</h1><ul>
<li>assets：有价值的东西，可以被交易的东西，json表示</li>
<li>chaincode：transaction | business logic</li>
<li>ledger：记录了所有的transaction，所有的状态 ，所有参与者都保存了ledger</li>
</ul>
<h1 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h1><p>Hyperledger 中 node 分为三种：</p>
<ul>
<li>client：实例化 transaction<ul>
<li>cli</li>
<li>node sdk</li>
<li>java sdk</li>
</ul>
</li>
<li>peer：用来存储和同步 ledger 的数据</li>
<li>orderer：用来排序分发 transaction</li>
</ul>
<h1 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h1><p>每个 channel 可以理解成独立的 Hyperledger fabri 的实例（其他区块链系统里没有channel的概念），理解成 私有子网</p>
<h1 id="chaincode"><a href="#chaincode" class="headerlink" title="chaincode"></a>chaincode</h1><h4 id="1-是什么"><a href="#1-是什么" class="headerlink" title="1.是什么"></a>1.是什么</h4><p>chaincode 就是智能合约，是应用程序，是代码，是business logic。用来更新账本数据。可以用 nodejs、java、go 编写。在Hyperledger里，读取和更新数据必须通过 chaincode 来完成</p>
<h4 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2.生命周期"></a>2.生命周期</h4><p>chaincode需要先安装，然后必须实例化，实例化chaincode会启动docker容器，在这个容器里面运行chaincode</p>
<ul>
<li>安装 install</li>
<li>实例化 init</li>
<li>调用 invoke</li>
</ul>
<h4 id="3-背书策略"><a href="#3-背书策略" class="headerlink" title="3.背书策略"></a>3.背书策略</h4><p>通过 AND 或者 OR 关键字定义背书策略</p>
<h4 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a>4.总结</h4><ul>
<li>每个 peer 可以属于多个 channel</li>
<li>每个 channel 有独立的ledger</li>
<li>每个 channel 可以有一个或者多个 chaincode</li>
<li>每个 chaincode 可以有不同的背书策略</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/16/Shell%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/16/Shell%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">Shell简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-16 22:51:30" itemprop="dateCreated datePublished" datetime="2020-09-16T22:51:30+08:00">2020-09-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:52:53" itemprop="dateModified" datetime="2020-09-20T23:52:53+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Shell是一个命令行解释器，为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序。</p>
<h1 id="Shell-变量"><a href="#Shell-变量" class="headerlink" title="Shell 变量"></a>Shell 变量</h1><hr>
<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>Linux Shell 中的变量分为系统变量和用户自定义变量</p>
<pre><code>* 系统变量：系统已经定义好的，可以直接拿来用
    * 如：￥PATH、$HOME、$PWD、$SHELL、$USER
* 用户自定义变量：</code></pre>
<p>显示当前Shell中所有变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set</span><br></pre></td></tr></table></figure>
<h4 id="Shell变量的定义"><a href="#Shell变量的定义" class="headerlink" title="Shell变量的定义"></a>Shell变量的定义</h4><p>定义变量：变量=值</p>
<pre><code>* 变量名称可以由字母、数字、下划线组成，但是不能以数字开头
* 等号两边不能有空格
* 变量名称一般习惯为大写</code></pre>
<p>将命令的返回值赋给变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A&#x3D;&#96;ls -la&#96; #使用反引号，运行反引号里的命令，并把结果返回给变量A</span><br><span class="line">A&#x3D;$(ls -la)#等价于反引号</span><br></pre></td></tr></table></figure>

<h4 id="撤销变量"><a href="#撤销变量" class="headerlink" title="撤销变量"></a>撤销变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset 变量</span><br></pre></td></tr></table></figure>
<h4 id="声明静态变量"><a href="#声明静态变量" class="headerlink" title="声明静态变量"></a>声明静态变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">readonly 变量</span><br><span class="line">#静态变量不能被unset</span><br></pre></td></tr></table></figure>
<h4 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h4><p>基本语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export 变量名&#x3D;变量值 #将shell变量输出为环境变量</span><br><span class="line">source 配置文件     #让修改后的配置文件立即生效</span><br><span class="line">echo $变量名        #查询环境变量的值</span><br></pre></td></tr></table></figure>
<h4 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h4><p>基本语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$n：n为小于10的数字，$0代表命令本身，$1 - $9 代表第一到第九个参数</span><br><span class="line">$&#123;n&#125;：n为数字，意义同上</span><br><span class="line">$*：代表命令行中的所有参数，把所有参数看成一个整体</span><br><span class="line">$@：代表命令行中的所有参数，把每个参数区分对待</span><br><span class="line">$#：代表命令行中所有参数的个数(不包括命令本身)</span><br></pre></td></tr></table></figure>
<h4 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h4><p>shell设计者事先已经定义好的变量，可以直接在shell脚本中使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$：当前进程的PID</span><br><span class="line">$!：后台运行的最后一个进程的PID</span><br><span class="line">$?：最后一次执行的命令的返回状态。如果为0，证明上一个命令正常执行，否则不正确（具体返回为多少由命令自己决定）</span><br></pre></td></tr></table></figure>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><pre><code>* $((运算式))
* $[运算式]           #推荐使用
* expr m + n
    * 运算符用空格隔开
    * 加减乘除：+、-、\*、/</code></pre>
<h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><hr>
<h1 id="if条件判断"><a href="#if条件判断" class="headerlink" title="if条件判断"></a>if条件判断</h1><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ condition ]</span><br><span class="line">#condition前后要有空格</span><br><span class="line">#非空返回true</span><br></pre></td></tr></table></figure>
<h4 id="常用的判断条件"><a href="#常用的判断条件" class="headerlink" title="常用的判断条件"></a>常用的判断条件</h4><pre><code>* 两个整数的比较
    * =：字符串比较
    * -lt：小于
    * -le：小于等于
    * -eq：等于
    * -gt：大于
    * -ge：大于等于
    * -ne：不等于
* 文件权限的判断
    * -r：有读的权限
    * -w：有写的权限
    * -x：有执行的权限
* 文件类型的判断
    * -f：文件存在并且是一个常规的文件
    * -e：文件存在
    * -d：文件存在并且是一个目录</code></pre>
<h4 id="案例1"><a href="#案例1" class="headerlink" title="案例1"></a>案例1</h4><p>“ok” 是否等于 “ok”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ &quot;ok&quot; &#x3D; &quot;ok&quot; ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;yes&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="案例2"><a href="#案例2" class="headerlink" title="案例2"></a>案例2</h4><p>23 是否大于等于 22</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ 23 -ge 22 ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;yes&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="案例3"><a href="#案例3" class="headerlink" title="案例3"></a>案例3</h4><p>判断是否存在test.py文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ -e test.py ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;exist&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="案例4"><a href="#案例4" class="headerlink" title="案例4"></a>案例4</h4><p>判断输入分数是否及格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ $&#123;1&#125; -ge 60 ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;及格了&quot;</span><br><span class="line">elif [ $&#123;1&#125; -lt 60 ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;未及格&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h1 id="case分支控制"><a href="#case分支控制" class="headerlink" title="case分支控制"></a>case分支控制</h1><p>案例：判断周几</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">echo &quot;周一&quot;</span><br><span class="line">;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">echo &quot;周二&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;其他&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<h1 id="for"><a href="#for" class="headerlink" title="for"></a>for</h1><h4 id="语法1"><a href="#语法1" class="headerlink" title="语法1"></a>语法1</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3 ...</span><br><span class="line">do</span><br><span class="line">  程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>示例：打印所有位置参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">for i in &quot;$@&quot;</span><br><span class="line">do </span><br><span class="line">    echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h4 id="语法2"><a href="#语法2" class="headerlink" title="语法2"></a>语法2</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((初始化;判断条件;增量))</span><br><span class="line">do</span><br><span class="line">    程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>示例：使用循环计算从1加到100</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">SUM&#x3D;0</span><br><span class="line">for((i&#x3D;0;i&lt;&#x3D;100;i++))</span><br><span class="line">do</span><br><span class="line">    SUM&#x3D;$[$SUM+i]</span><br><span class="line">done</span><br><span class="line">echo $SUM</span><br></pre></td></tr></table></figure>

<h1 id="while"><a href="#while" class="headerlink" title="while"></a>while</h1><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式子 ]</span><br><span class="line">do</span><br><span class="line">    程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>案例：计算1到n</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">SUM&#x3D;0</span><br><span class="line">i&#x3D;1</span><br><span class="line">while [ $i -le $1 ]</span><br><span class="line">do</span><br><span class="line">    SUM&#x3D;$[$SUM+$i]</span><br><span class="line">    i&#x3D;$[$i+1]</span><br><span class="line">done</span><br><span class="line">echo $SUM</span><br></pre></td></tr></table></figure>


<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><hr>
<h1 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h1><h4 id="basename"><a href="#basename" class="headerlink" title="basename"></a>basename</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">basename &#x2F;home&#x2F;lilingjie&#x2F;test.txt</span><br><span class="line">#返回test.txt</span><br><span class="line">basename &#x2F;home&#x2F;lilingjie&#x2F;test.txt .txt</span><br><span class="line">#返回test</span><br></pre></td></tr></table></figure>
<h4 id="dirname"><a href="#dirname" class="headerlink" title="dirname"></a>dirname</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dirname &#x2F;home&#x2F;lilingjie&#x2F;test.txt</span><br><span class="line">#返回&#x2F;home&#x2F;lilingjie</span><br></pre></td></tr></table></figure>

<h1 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h1><p>案例：计算a + b</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">function getSum()&#123;</span><br><span class="line">    SUM&#x3D;$[$a+$b]</span><br><span class="line">    echo &quot;a+b&#x3D;$SUM&quot;</span><br><span class="line">&#125;</span><br><span class="line">read -p &quot;请输入a：&quot; a</span><br><span class="line">read -p &quot;请输入b：&quot; b</span><br><span class="line">getSum $a $b</span><br></pre></td></tr></table></figure>





















<h1 id="杂"><a href="#杂" class="headerlink" title="杂"></a>杂</h1><h4 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;!</span><br><span class="line">我被注释了</span><br><span class="line">!</span><br></pre></td></tr></table></figure>
<h4 id="命令后台运行"><a href="#命令后台运行" class="headerlink" title="命令后台运行"></a>命令后台运行</h4><p>在命令后接一个&amp;</p>
<h4 id="读取控制台"><a href="#读取控制台" class="headerlink" title="读取控制台"></a>读取控制台</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">read [选项] [参数]</span><br><span class="line">#-p：指定读取时的提示符</span><br><span class="line">#-t：指定等待时间（秒）</span><br></pre></td></tr></table></figure>
<p>案例：等待用户输入，只等10秒</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">read -t 10 -p &quot;请输入：&quot; input_str</span><br><span class="line">echo &quot;你输入的是：input_str&quot;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/15/%E5%A4%A7%E5%AD%A6%E8%B5%9A%E9%92%B1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/15/%E5%A4%A7%E5%AD%A6%E8%B5%9A%E9%92%B1/" class="post-title-link" itemprop="url">大学赚钱</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-15 21:26:33" itemprop="dateCreated datePublished" datetime="2020-09-15T21:26:33+08:00">2020-09-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:52:30" itemprop="dateModified" datetime="2020-09-20T23:52:30+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="性价比高，极力推荐"><a href="#性价比高，极力推荐" class="headerlink" title="性价比高，极力推荐"></a>性价比高，极力推荐</h4><ol>
<li>卖校园卡：一张提成59元（2020.9.15本校数据）</li>
<li>家教：一小时50元（2017年数据，本校有组织，加入通过面试就行）</li>
<li>代课、代形式主义：代课只需答到，时间可以学习；形式主义大学很多，比如之前老师同学都要刷学习强国，我见过有代刷分的，听说有教授愿意给钱</li>
<li>代写：代写本专业的实验报告，价钱自己谈，客户在各种技术交流群、代写群里找。（比如我代写python、C，一般的在60元左右。2020年疫情有网上考试，我见过很多学霸代考，挣钱快。ps：代考违法，请勿代考！）</li>
<li>接外包：用本专业知识接单。价格自己谈，赚钱多，还能锻炼专业能力，极力推荐（这条要求比较高，我同学给人做过，我只做过代写实验报告的代码）<h4 id="性价比低，去之前最好想好自己为什么去"><a href="#性价比低，去之前最好想好自己为什么去" class="headerlink" title="性价比低，去之前最好想好自己为什么去"></a>性价比低，去之前最好想好自己为什么去</h4></li>
</ol>
<ol>
<li>学校超市售货：一小时8元（2020本校数据）</li>
<li>奶茶店售货：一小时8元</li>
<li>去外面餐馆超市打工：不知价格，估计不高</li>
<li>代抄：有很多东西要手写，大学有专门的接单群，费时费力且钱不多<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4></li>
</ol>
<p>性价比高指，有的来钱快机会少，基本是抢钱（卖卡）；有的有趣，锻炼交际，不需学习成本（家教，辅导高中生，代课，代形式主义）；有的锻炼自己专业能力（代写实验报告，接外包）</p>
<p>性价比低指，费时费力，钱少还学不到什么</p>
<p>ps：仅仅写了一些我做过的，我见过的。还有一些做自媒体、up主什么的，大学时期的同学里我没见过。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/28/git%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/28/git%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">git简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-28 23:26:24" itemprop="dateCreated datePublished" datetime="2020-08-28T23:26:24+08:00">2020-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:51:51" itemprop="dateModified" datetime="2020-09-20T23:51:51+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="git-结构"><a href="#git-结构" class="headerlink" title="git 结构"></a>git 结构</h1><pre><code>* 工作区：写代码，通过git add提交到暂存区
* 暂存区：临时存储，通过git commit提交到本地库
* 本地库：保存历史版本</code></pre>
<h1 id="本地库操作"><a href="#本地库操作" class="headerlink" title="本地库操作"></a>本地库操作</h1><ol>
<li><p>本地库初始化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
<p>初始化本地库后多了 .git 文件夹， .git 目录中存放的是本地库相关的子目录和文件</p>
</li>
<li><p>设置签名</p>
</li>
</ol>
<p>形式：</p>
<pre><code>* 用户名：llj
* Email地址：zz@qq.com</code></pre>
<p>作用：区分不同开发人员身份</p>
<p>辨析：这里设置的签名和登录远程库的账密没有任何关系</p>
<p>命令：</p>
<pre><code>* 项目级别/仓库级别：仅在本地库范围内有效
    * git config user.name llj
    * git config user.email zz@qq.com
    * 信息保存在当前项目下的config文件中
* 系统用户级别：登录当前操作系统的用户范围
    * git config --global user.name llj
    * git config --global user.email zz@qq.com
    * 信息保存在 ~/.gitconfig 文件
* 项目级别优先系统用户级别，不允许二者都没有</code></pre>
<h1 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h1><ol>
<li><p>状态查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
<p>查看工作区、暂存区状态</p>
</li>
<li><p>添加操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add [file name]</span><br></pre></td></tr></table></figure>
<p>将工作区的新建/修改添加到暂存区</p>
</li>
<li><p>提交操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;commit message&quot; [file name]</span><br></pre></td></tr></table></figure>
<p>将暂存区提交到本地库</p>
</li>
<li><p>查看历史记录操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br><span class="line">git log --pretty&#x3D;oneline</span><br><span class="line">git log --oneline</span><br><span class="line">git reflog</span><br></pre></td></tr></table></figure>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4></li>
<li><p>前进后退</p>
</li>
</ol>
<p>基于索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard 索引</span><br></pre></td></tr></table></figure>
<p>使用^符号：只能后退</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^^</span><br></pre></td></tr></table></figure>
<p>根据^符号的数量来回退几次<br>使用~符号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~2</span><br></pre></td></tr></table></figure>
<p>根据~符号后的数字来回退几次<br>reset命令三个参数对比：</p>
<pre><code>* --soft：
    * 仅仅在本地库移动HEAD指针
* --mixed：
    * 在本地库移动HEAD指针
    * 重置暂存区
* --hard：
    * 在本地库移动HEAD指针
    * 重置暂存区
    * 重置工作区</code></pre>
<ol start="5">
<li>删除文件并找回</li>
</ol>
<p>删除：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rm good.txt</span><br><span class="line">git add good.txt</span><br><span class="line">git commit -m &quot;del good.txt&quot;</span><br></pre></td></tr></table></figure>
<p>找回：</p>
<p>已提交至本地库：回退一个版本</p>
<p>未提交至本地库：git reset –hard HEAD</p>
<ol start="6">
<li><p>比较文件差异</p>
<ul>
<li>git diff [文件名]<ul>
<li>将工作区中的文件与暂存区进行比较</li>
</ul>
</li>
<li>git diff [本地库中历史文件] [文件名]<ul>
<li>将工作区中的文件和本地库历史记录比较</li>
</ul>
</li>
<li>git diff：比较多个文件</li>
</ul>
</li>
</ol>
<h1 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h1><ol>
<li>什么是分支</li>
</ol>
<p>在版本控制过程中，使用多条线同时推进多个任务</p>
<ol start="2">
<li><p>分支的好处</p>
<ul>
<li>同时并行推进多个功能开发，提高开发效率</li>
<li>各个分支在开发过程中，某个分支开发失败，不会影响其他分支</li>
</ul>
</li>
<li><p>分支操作</p>
<ul>
<li>创建分支<ul>
<li>git branch [分支名]</li>
</ul>
</li>
<li>查看分支<ul>
<li>git branch -v</li>
</ul>
</li>
<li>切换分支<ul>
<li>git checkout [分支名]</li>
</ul>
</li>
<li>合并分支<ul>
<li>切换到被合并的分支上：git checkout [分支名]</li>
<li>执行 merge 命令：git merge [分支名]</li>
</ul>
</li>
<li>解决冲突<ul>
<li>编辑文件，删除特殊符号</li>
<li>把文件修改到满意的程度</li>
<li>git add .</li>
<li>git commit -m “日志信息”<ul>
<li>commit 此时不能带文件名</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="Git基本原理"><a href="#Git基本原理" class="headerlink" title="Git基本原理"></a>Git基本原理</h1><ol>
<li>哈希</li>
</ol>
<p>采用 SHA-1 哈希算法</p>
<ol>
<li>保存版本的机制</li>
</ol>
<p>集中式版本控制工具的文件管理机制（增量式）</p>
<p>以文件变更列表的方式存储信息。这类系统讲他们保存的信息看做是一组基本文件和每个文件随时间逐步积累的差异</p>
<p><img src="https://uploader.shimo.im/f/OwpxPL43akuyAmW5.png!thumbnail" alt="图片"></p>
<p>Git 的文件管理机制（快照流）</p>
<p>每次提交更新时 Git 都会对当前全部文件制作一个快照并保存这个快照的索引。如果文件没有修改，git 不再存储该文件，而是保留一个链接指向之前存储的文件</p>
<p><img src="https://uploader.shimo.im/f/mT1iwpXOMJzVIhxg.png!thumbnail" alt="图片"></p>
<ol>
<li>分支管理机制</li>
</ol>
<p>本质是创建和移动指针</p>
<h1 id="远程仓库基本操作"><a href="#远程仓库基本操作" class="headerlink" title="远程仓库基本操作"></a>远程仓库基本操作</h1><ol>
<li>本地创建远程仓库别名</li>
</ol>
<p>在本地 gittest 仓库下创建远程仓库 gittest 别名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add lljtest https:&#x2F;&#x2F;github.com&#x2F;lilingj&#x2F;lljtest.git</span><br><span class="line">git remote -v  #查看已有别名</span><br></pre></td></tr></table></figure>

<ol>
<li>推送操作<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push 远程仓库地址或别名 分支名</span><br></pre></td></tr></table></figure>
例子：将本地仓库 gittest 的 master 分支推送到远程仓库 gittest</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push lljtest master #通过别名</span><br><span class="line">git push https:&#x2F;&#x2F;github.com&#x2F;lilingj&#x2F;lljtest.git master #通过地址</span><br></pre></td></tr></table></figure>

<ol>
<li><p>克隆操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone 远程仓库地址</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<ul>
<li>完整地把远程库下载到本地</li>
<li>创建 origin 远程地址别名</li>
<li>初始化本地库</li>
</ul>
</li>
<li><p>添加协作成员</p>
</li>
</ol>
<p>在 github 中添加</p>
<ol>
<li><p>抓取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch 远程库地址或别名 分支名</span><br><span class="line">git merge 远程库地址别名&#x2F;远程分支名</span><br></pre></td></tr></table></figure>
<p>上下两段代码等价</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull 远程库地址或别名 分支名</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决冲突</p>
<ul>
<li>如果不是远程库最新版所做的修改，不能推送，必须先拉取</li>
<li>拉取下来后如果进入冲突状态，解决冲突</li>
</ul>
</li>
<li><p>跨团队协作</p>
</li>
</ol>
<p>fork 远程仓库，协作人员以该远程仓库为基础，更新代码后，pull request 回被fork的仓库，经原仓库管理人员审核后，被 merge 到原仓库</p>
<ol>
<li>SSH 登录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">rm -rf .ssh</span><br><span class="line">ssh-keygen -t rsa -C myemailaddr@qq.com</span><br></pre></td></tr></table></figure>
在 .ssh 文件夹下生成 id_rsa 和 id_rsa.pub 公私钥对，将公钥复制到 github 上</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/28/k8s%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/28/k8s%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">k8s简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-28 20:26:28" itemprop="dateCreated datePublished" datetime="2020-08-28T20:26:28+08:00">2020-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:52:10" itemprop="dateModified" datetime="2020-09-20T23:52:10+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h4 id="什么是k8s？"><a href="#什么是k8s？" class="headerlink" title="什么是k8s？"></a>什么是k8s？</h4><p>k8s 是一组服务器集群</p>
<p>k8s所管理的是集群上的容器</p>
<h4 id="k8s的作用和功能"><a href="#k8s的作用和功能" class="headerlink" title="k8s的作用和功能"></a>k8s的作用和功能</h4><pre><code>* 自我修复
* 弹性伸缩：实时根据服务器的并发情况，增加或缩减容器数量
* 自动部署
* 回滚
* 服务发现和负载均衡
* 机密和配置管理
* 存储编排
* 批处理</code></pre>
<h4 id="杂"><a href="#杂" class="headerlink" title="杂"></a>杂</h4><p>MESOS                        APACHE     分布式资源管理框架</p>
<p>Docker Swarm              阿里云宣布剔除Docker Swarm</p>
<p>K8s                                Google      10年容器化基础架构</p>
<pre><code>* 轻量级：消耗资源小
* 开源
* 弹性伸缩
* 负载均衡：IPVS</code></pre>
<p>k8s本质上是一组服务器集群，k8s可以在集群的各个节点上运行特定的docker容器</p>
<h1 id="组件说明"><a href="#组件说明" class="headerlink" title="组件说明"></a>组件说明</h1><pre><code>* APISERVER：所有服务访问统一入口
* CrontrollerManager：维持副本期望数目
* Scheduler：负责介绍人物，选择合适的节点进行分配任务
* ETCD：键值对数据库，储存K8S集群所有重要信息（持久化）
* Kubelet：直接跟容器引擎交互实现容器的生命周期管理
* Kube-proxy：负责写入规则至 IPTABLES、IPVS，实现服务映射访问
* COREDNS：可以为集群中的SVC创建一个域名IP的对应关系解析
* DASHBOARD：给 K8S 集群提供一个 B/S 结构访问体系
* INGRESS CONTROLLER：官方只能实现四层代理，INGRESS 可以实现七层代理
* FEDERATION：提供一个可以跨集群中心多 K8S 统一管理功能
* PROMETHEUS：提供 K8S 集群的监控能力
* ELK：提供 K8S 集群日志统一分析介入平台</code></pre>
<h1 id="K8S-架构"><a href="#K8S-架构" class="headerlink" title="K8S 架构"></a>K8S 架构</h1><p><img src="https://uploader.shimo.im/f/1MkOvikuPOyLEba2.png!thumbnail" alt="图片"></p>
<h4 id="k8s-集群两类节点"><a href="#k8s-集群两类节点" class="headerlink" title="k8s 集群两类节点"></a>k8s 集群两类节点</h4><pre><code>* master node
* worker node</code></pre>
<h4 id="master-节点的组件（程序）"><a href="#master-节点的组件（程序）" class="headerlink" title="master 节点的组件（程序）"></a>master 节点的组件（程序）</h4><pre><code>* apiserver：接受客户端操作 k8s 的指令
* schedulor：从多个 worker 节点的组件中选举一个来启动服务
* controller manager：向 worker 节点的 kubelet 发送指令的</code></pre>
<h4 id="worker-节点的组件（程序）"><a href="#worker-节点的组件（程序）" class="headerlink" title="worker 节点的组件（程序）"></a>worker 节点的组件（程序）</h4><pre><code>* kubelet：向 docker 发送指令管理 docker 容器的
* kubeproxy：管理 docker 的网络</code></pre>
<h4 id="k8s-用的数据库"><a href="#k8s-用的数据库" class="headerlink" title="k8s 用的数据库"></a>k8s 用的数据库</h4><p>etcd：键值对数据库，用来注册节点、服务、记录账户。。。</p>
<h1 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h1><h4 id="Pod"><a href="#Pod" class="headerlink" title="Pod"></a>Pod</h4><pre><code>* Pod 是 k8s 的最小部署单元
* 一组容器的集合
* 一个 Pod 中的容器共享网络命名空间
* Pod 是短暂的</code></pre>
<h4 id="Controllers"><a href="#Controllers" class="headerlink" title="Controllers"></a>Controllers</h4><p>控制器：控制 Pod，启动、停止、删除</p>
<pre><code>* ReplicaSet：确保预期的 Pod 副本数量
* Deployment：无状态应用部署
* StatefulSet：有状态应用部署
* DaemonSet：确保所有 node 运行同一个 Pod
* Job：一次性任务
* Cronjob：定时任务</code></pre>
<h4 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h4><pre><code>* 将一组 Pod 关联起来，提供一个统一入口，即使Pod地址发生改变，用户访问也不会发生变化![图片](https://uploader.shimo.im/f/pmZgTEqIVsYN6cA4.png!thumbnail)

* 防止 Pod 失联
* 定义一组 Pod 的访问策略</code></pre>
<h4 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h4><pre><code>* 标签，附加到某个资源上，用于关联对象、查询和筛选
* 一组 Pod 有一个统一的标签，Services 通过标签和一组 Pod 关联</code></pre>
<h4 id="Namespace"><a href="#Namespace" class="headerlink" title="Namespace"></a>Namespace</h4><pre><code>* 命名空间，将对象逻辑上隔离（默认情况下，Pod 是可以互相访问的）
    * 为不同的公司提供隔离的 Pod 运行环境
    * 为开发环境、测试环境、生产环境分别准备不同的名称空间，进行隔离</code></pre>
<h1 id="K8S部署"><a href="#K8S部署" class="headerlink" title="K8S部署"></a>K8S部署</h1><ol>
<li>生产环境K8S平台规划</li>
</ol>
<p>多 master 集群，master 建议 3 台主机，etcd 必须 3 台以上（奇数：3、5、7。。。防止出现无法选举出主etcd节点），worker 节点越多越好</p>
<pre><code>* 单 master 集群：master 单点故障宕机![图片](https://uploader.shimo.im/f/Xj741bvUHIagjKoa.png!thumbnail)
* 多 master 集群（推荐使用）：通过 load balancer 实现负载均衡![图片](https://uploader.shimo.im/f/7xgcPBeHjwqaCLds.png!thumbnail)</code></pre>
<ol>
<li><p>服务器硬件配置推荐</p>
</li>
<li><p>官方提供三种部署方式</p>
</li>
</ol>
<p><img src="https://uploader.shimo.im/f/FdwU9D7Ol4TZHNV9.png!thumbnail" alt="图片"></p>
<p>初始化服务器：</p>
<pre><code>* 关闭防火墙
    * systemctl stop firewalld
    * systemctl disable firewalld
* 关闭交换分区
    * swapoff -a
    * vim /etc/fastab     删掉最后一行dev
    * free -m        若显示最后一行为0，则已经关闭
* 配置主机名
    * hostnamectl set-hostname k8s-master1-llj
* 配置名称解析
    * 配置 /etc/hosts 文件
* 关闭selinux
    * 临时关闭 setenforce 0
    * 永久关闭
        * vim /etc/selinux/config
        * 修改文件某行为 SELINUX=disabled
* 配置时间同步
    * 选择一个节点为服务端，剩下作为客户端
        * 配置服务端
            * yum install chrony -y
            * vim /etc/chrony.conf
                * 修改三项（这个我听不懂，不知道具体意义）
                    * server 127.127.1.0 iburst
                    * allow 192.168.31.0/24
                    * local stratum 10
            * systemctl start chronyd
            * systemctl enable chronyd
            * ss -unl | grep 123         有输出则成功
        * 配置客户端
            * yum install chrony -y
            * vim /etc/chrony.conf
                * 添加server 服务器地址 iburst
            * systemctl start chronyd
            * systemctl enable chronyd
            * ss -unl | grep 123         有输出则成功</code></pre>
<ol>
<li>为Etcd和APIServer自签SSL证书</li>
</ol>
<p>三步：</p>
<pre><code>    * 创建证书颁发机构
    * 填写表单，写明etcd 所在节点的ip
    * 向证书颁发机构申请证书</code></pre>
<p>加密：</p>
<pre><code>    * 对称加密：加密解密用相同秘钥
    * 非对称加密：是用公钥私钥
    * 单向加密：只能加密不能解密（哈希）</code></pre>
<p>ssl证书来源：</p>
<pre><code>    * 网络第三方机构购买
    * 自签证书（内网使用，浏览器提示信息“不受信任”）</code></pre>
<p>签证机构（CA）</p>
<p>自建CA</p>
<pre><code>    * openssl
    * cfssl</code></pre>
<ol>
<li>Etcd数据库集群部署</li>
</ol>
<p>Etcd 需要三台虚拟机</p>
<ol>
<li><p>部署Master组件</p>
</li>
<li><p>部署Node组件</p>
</li>
<li><p>部署K8S集群网络</p>
</li>
<li><p>部署Web UI（Dashboard）</p>
</li>
<li><p>部署集群内部DNS解析服务（CoreDNS）</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description">换菜刀换脸盆的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
