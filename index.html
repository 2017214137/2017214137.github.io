<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="换菜刀换脸盆的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="换菜刀换脸盆">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="换菜刀换脸盆">
<meta property="og:description" content="换菜刀换脸盆的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>换菜刀换脸盆</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">换菜刀换脸盆</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/22/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95Java%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/22/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95Java%E5%AE%9E%E7%8E%B0/" class="post-title-link" itemprop="url">排序算法Java实现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-22 12:49:53" itemprop="dateCreated datePublished" datetime="2020-10-22T12:49:53+08:00">2020-10-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-23 11:50:33" itemprop="dateModified" datetime="2020-10-23T11:50:33+08:00">2020-10-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <!-- TOC -->

<ul>
<li><a href="#%E6%8E%92%E5%BA%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">排序的基本概念</a><pre><code>      - [排序的稳定性：](#排序的稳定性)
      - [内部排序&amp;外部排序：](#内部排序外部排序)
      - [内部排序方法的分类](#内部排序方法的分类)</code></pre>
</li>
<li><a href="#%E4%B8%80%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F">一、插入排序</a><pre><code>      - [直接插入排序](#直接插入排序)
      - [折半插入排序](#折半插入排序)
      - [两个算法的区别](#两个算法的区别)
      - [ps：二分查找，大于的下标和大于等于的下标](#ps二分查找大于的下标和大于等于的下标)</code></pre>
</li>
<li><a href="#%E4%BA%8C%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F">二、希尔排序</a></li>
<li><a href="#%E4%B8%89%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F">三、冒泡排序</a></li>
<li><a href="#%E5%9B%9B%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F">四、快速排序</a></li>
<li><a href="#%E4%BA%94%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F">五、选择排序</a></li>
<li><a href="#%E5%85%AD%E5%A0%86%E6%8E%92%E5%BA%8F">六、堆排序</a><pre><code>      - [题目：求最小的k个数](#题目求最小的k个数)</code></pre>
</li>
<li><a href="#%E4%B8%83%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F">七、归并排序</a></li>
<li><a href="#%E5%85%AB%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F">八、基数排序</a></li>
<li><a href="#%E4%B9%9D%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F">九、基数排序</a></li>
<li><a href="#%E5%8D%81%E6%A1%B6%E6%8E%92%E5%BA%8F">十、桶排序</a></li>
</ul>
<!-- /TOC -->

<h1 id="排序的基本概念"><a href="#排序的基本概念" class="headerlink" title="排序的基本概念"></a>排序的基本概念</h1><h4 id="排序的稳定性："><a href="#排序的稳定性：" class="headerlink" title="排序的稳定性："></a>排序的稳定性：</h4><p>&emsp;&emsp; 排序后相等的元素顺序没变，则排序是稳定的，否则是不稳定的</p>
<h4 id="内部排序-amp-外部排序："><a href="#内部排序-amp-外部排序：" class="headerlink" title="内部排序&amp;外部排序："></a>内部排序&amp;外部排序：</h4><p>&emsp;&emsp; 内部排序：待排序元素存放在内存中进行排序的过程。<br/><br>&emsp;&emsp; 外部排序：排序元素量很大，内存不能一次全容纳，排序过程中需要访问外存。</p>
<h4 id="内部排序方法的分类"><a href="#内部排序方法的分类" class="headerlink" title="内部排序方法的分类"></a>内部排序方法的分类</h4><p>&emsp;&emsp; <code>内部排序的过程</code>是一个逐步扩大记录的有序序列长度的过程。在排序过程中，可以将排序的记录区域分为两个：有序的序列区和无序的序列区。<br>&emsp;&emsp;使有序区中记录的数目增加一个或几个的操作称为<code>一趟排序</code><br>&emsp;&emsp;根据逐步扩大记录有序序列长度原则不同，将内部排序分为以下五类：  </p>
<ul>
<li>插入类：将无序序列区中的元素插入有序序列区<ul>
<li>直接插入排序</li>
<li>折半插入排序</li>
<li>希尔排序 </li>
</ul>
</li>
<li>交换类：交换无序序列中的元素，选出最小或最大元素，并将其加入到有序序列中<ul>
<li>冒泡排序</li>
<li>快速排序</li>
</ul>
</li>
<li>选择类：从无序序列中选择最小或最大记录，并将其加入到有序序列中<ul>
<li>简单选择排序</li>
<li>树形选择排序（改进为堆排序）</li>
<li>堆排序</li>
</ul>
</li>
<li>归并类：归并两个或以上的有序序列，逐步增大有序序列</li>
<li>分配类：唯一一类不需要进行关键字之间比较的排序方法，主要利用分配和收集两种基本操作来完成。</li>
</ul>
<h1 id="一、插入排序"><a href="#一、插入排序" class="headerlink" title="一、插入排序"></a>一、插入排序</h1><p>稳定的<br>平均O(n<sup>2</sup>)</p>
<h4 id="直接插入排序"><a href="#直接插入排序" class="headerlink" title="直接插入排序"></a>直接插入排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InsertSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insertSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//下标从 1 开始，nums[0] 为监视哨</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">//下标1 - (i - 1) 的区域为有序区，将下标为 i 的元素插入有序区</span></span><br><span class="line">			<span class="keyword">if</span>(nums[i] &lt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">				<span class="comment">//从后往前扫描，挨个后移，直到经过比较找到插入位置</span></span><br><span class="line">				nums[<span class="number">0</span>] = nums[i];</span><br><span class="line">				nums[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">				<span class="keyword">int</span> j = i - <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">for</span>(; nums[j] &gt; nums[<span class="number">0</span>]; j--) &#123;</span><br><span class="line">					nums[j + <span class="number">1</span>] = nums[j];</span><br><span class="line">				&#125;</span><br><span class="line">				nums[j + <span class="number">1</span>] = nums[<span class="number">0</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		insertSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="折半插入排序"><a href="#折半插入排序" class="headerlink" title="折半插入排序"></a>折半插入排序</h4><p>与直接插入相比，只是先用二分查找到了插入点，然后插入。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BInsertSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 从下标范围在[l, r]的数组nums中，找到第一个大于val的元素的下标并返回</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rSearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">			<span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>(nums[mid] &gt; val) &#123;</span><br><span class="line">				r = mid - <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				l = mid + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bInsertSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> insertpoint = rSearch(nums, <span class="number">1</span>, i - <span class="number">1</span>, nums[i]);</span><br><span class="line">			nums[<span class="number">0</span>] = nums[i];</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt; insertpoint; j--) &#123;</span><br><span class="line">				nums[j] = nums[j - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			nums[insertpoint] = nums[<span class="number">0</span>];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		bInsertSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="两个算法的区别"><a href="#两个算法的区别" class="headerlink" title="两个算法的区别"></a>两个算法的区别</h4><p>&emsp;&emsp;书上说通过数据规模的不同选取两种算法，显然是错的。折半插入排序与直接插入排序相比，只是减少了元素相比较次数。如果两个元素比较的复杂度很大，应该选取折半插入排序，否则应该选取直接插入排序。<br>&emsp;&emsp;例如，对字符串排序，假设字符串都是1e5长度的，且前1e5个字符都相同，最后几个不同，那么采用直接插入排序，<code>for(; nums[j] &gt; nums[0]; j--)</code> 这个后移用的循环语句中的条件 <code>nums[j] &gt; nums[0]</code>（字符串比较），每次都要比较一次1e5的字符串，几乎是两重循环，故不宜选取。</p>
<h4 id="ps：二分查找，大于的下标和大于等于的下标"><a href="#ps：二分查找，大于的下标和大于等于的下标" class="headerlink" title="ps：二分查找，大于的下标和大于等于的下标"></a>ps：二分查找，大于的下标和大于等于的下标</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从下标范围在[l, r]的数组nums中，找到第一个 [大于等于] val的元素的下标并返回</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lSearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(nums[mid] &gt;= val) &#123;</span><br><span class="line">			r = mid - <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			l = mid + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从下标范围在[l, r]的数组nums中，找到第一个 [大于] val的元素的下标并返回</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rSearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(nums[mid] &gt; val) &#123;</span><br><span class="line">			r = mid - <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			l = mid + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="二、希尔排序"><a href="#二、希尔排序" class="headerlink" title="二、希尔排序"></a>二、希尔排序</h1><p>不稳定的<br>复杂度可以到O(n<sup>3/2</sup>)，不确定  </p>
<p>&emsp;&emsp;将元素按步长d<sub>k</sub>（d<sub>k</sub> &lt; nums.length）分组。即从第一个元素开始每隔d<sub>k</sub>选取一个元素，这些元素在同一个组内，再从第二个元素开始每隔d<sub>k</sub>选取一个元素，这些元素在同一个组内……最后分出d<sub>k</sub>组，对这d<sub>k</sub>个组分别进行<code>插入排序</code>。选取逐渐减小的d<sub>k</sub>，直至 d<sub>k</sub> = 1 重复上述过程。<br>&emsp;&emsp;当 d<sub>k</sub> = 1 时，希尔排序相当于插入排序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShellSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">shellInsert</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> dk)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 不必先找出一组，然后进行插入排序，再找出一组，再排序……</span></span><br><span class="line">		<span class="comment">// 而是并发地对各组进行插入排序，这样代码更好看</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = dk + <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(nums[i] &lt; nums[i - dk]) &#123;</span><br><span class="line">				nums[<span class="number">0</span>] = nums[i];</span><br><span class="line">				nums[i] = nums[i - dk];</span><br><span class="line">				<span class="keyword">int</span> j = i - <span class="number">2</span> * dk;</span><br><span class="line">				<span class="keyword">for</span>(; j &gt; <span class="number">0</span> &amp;&amp; nums[<span class="number">0</span>] &gt; nums[j]; j -= dk) &#123;</span><br><span class="line">					nums[j + dk] = nums[j];</span><br><span class="line">				&#125;</span><br><span class="line">				nums[j + dk] = nums[<span class="number">0</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> d[])</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 下标从 1 开始，0 号作为监视哨</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d.length; i++) &#123;</span><br><span class="line">			shellInsert(nums, d[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		<span class="keyword">int</span>[] d = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>&#125;;</span><br><span class="line">		shellSort(nums, d);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>增量序列应该选取没有除 1 以外的公因子，保证每次排序都尽可能错开。</p>
<h1 id="三、冒泡排序"><a href="#三、冒泡排序" class="headerlink" title="三、冒泡排序"></a>三、冒泡排序</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BubbleSort</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(nums[j] &gt; nums[j + <span class="number">1</span>]) &#123;</span><br><span class="line">					<span class="keyword">int</span> tmp = nums[j];</span><br><span class="line">					nums[j] = nums[j + <span class="number">1</span>];</span><br><span class="line">					nums[j + <span class="number">1</span>] = tmp;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		bubbleSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="四、快速排序"><a href="#四、快速排序" class="headerlink" title="四、快速排序"></a>四、快速排序</h1><p>不稳定  </p>
<p>&emsp;&emsp;选取第一个元素值为pivot，设置指针 low 和 high 分别指向待排序列表首位。high 慢慢减少，直到找到小于 pivot 的值，将其赋值给 low 处，low 慢慢增加，直到找到大于 pivot 的值，将其赋值给 high 处，重复这个过程，直到 low == high，将pivot 的值赋值给 low（high）处。这时 pivot 左边的值全小于 pivot，而右边的值全大于 pivot。<br>&emsp;&emsp;以 pivot 为分割点，将列表分为两个列表以及 pivot，对着两个列表再执行上述操作，直至列表只有 0 个或 1 个元素，这时整个列表有序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickSort</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">qSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(l &gt;= r) &#123;</span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> low = l;</span><br><span class="line">		<span class="keyword">int</span> high = r;</span><br><span class="line">		<span class="keyword">int</span> pivot = nums[l];</span><br><span class="line">		<span class="keyword">while</span>(high &gt; low &amp;&amp; nums[high] &gt;= pivot) &#123;</span><br><span class="line">			high--;</span><br><span class="line">		&#125;</span><br><span class="line">		nums[low] = nums[high];</span><br><span class="line">		<span class="keyword">while</span>(high &gt; low &amp;&amp; nums[low] &lt;= pivot) &#123;</span><br><span class="line">			low++;</span><br><span class="line">		&#125;</span><br><span class="line">		nums[high] = nums[low];</span><br><span class="line">		nums[low] = pivot;</span><br><span class="line">		qSort(nums, l, low - <span class="number">1</span>);</span><br><span class="line">		qSort(nums, low + <span class="number">1</span>, r);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		qSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		quickSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最好时间复杂度为O(nlog<sub>2</sub>n)，出现在列表完全混乱到每次总是平分两个列表<br>最坏时间复杂度为O(n<sup>2</sup>)，出现在要排序的列表已经是目标列表时。</p>
<h1 id="五、选择排序"><a href="#五、选择排序" class="headerlink" title="五、选择排序"></a>五、选择排序</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SelectSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> minnumidx = i;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(nums[j] &lt; nums[minnumidx]) &#123;</span><br><span class="line">					minnumidx = j;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">			nums[i] = nums[minnumidx];</span><br><span class="line">			nums[minnumidx] = tmp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		selectSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="六、堆排序"><a href="#六、堆排序" class="headerlink" title="六、堆排序"></a>六、堆排序</h1><p>还是写最简单的情况，大根堆求升序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HeapSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 调整 nums 中从 rootidx 到 end 的堆</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapAdjust</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> rootidx, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> rootval = nums[rootidx];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span> * rootidx; i &lt;= end; i *= <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i + <span class="number">1</span> &lt;= end &amp;&amp; nums[i + <span class="number">1</span>] &gt; nums[i]) &#123;</span><br><span class="line">				i = i + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(rootval &gt; nums[i]) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			nums[rootidx] = nums[i];</span><br><span class="line">			rootidx = i;</span><br><span class="line">		&#125;</span><br><span class="line">		nums[rootidx] = rootval;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">creatHeap</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 下标从 1 开始，故堆中有 n 个元素</span></span><br><span class="line">		<span class="keyword">int</span> n = nums.length - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = n / <span class="number">2</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">			heapAdjust(nums, i, nums.length - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		creatHeap(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt;<span class="number">1</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">			nums[i] = nums[<span class="number">1</span>];</span><br><span class="line">			nums[<span class="number">1</span>] = tmp;</span><br><span class="line">			heapAdjust(nums, <span class="number">1</span>, i - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		heapSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="题目：求最小的k个数"><a href="#题目：求最小的k个数" class="headerlink" title="题目：求最小的k个数"></a>题目：求最小的k个数</h4><p>&emsp;&emsp;使用nums中的k个元素，创建一个容量为k的大根堆，遍历剩下的元素，每一次都替换大根堆的最大元素，并调整使其还是大根堆，这样可以保证最后堆内的k个元素一定是最小的k个。<br>&emsp;&emsp;算法复杂度O(nlog<sub>2</sub>k)  </p>
<p>贴两个函数，和上面代码配套使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回k个最小值的数组，下标从 1 开始</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] kMinNum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">	<span class="keyword">int</span>[] kheap = <span class="keyword">new</span> <span class="keyword">int</span>[k + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">		kheap[i] = nums[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	creatHeap(kheap);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = k + <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(nums[i] &lt; kheap[<span class="number">1</span>]) &#123;</span><br><span class="line">			kheap[<span class="number">1</span>] = nums[i];</span><br><span class="line">			heapAdjust(kheap, <span class="number">1</span>, kheap.length - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> kheap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> k = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span>[] kheap = kMinNum(nums, k);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; kheap.length; i++) &#123;</span><br><span class="line">		System.out.print(kheap[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="七、归并排序"><a href="#七、归并排序" class="headerlink" title="七、归并排序"></a>七、归并排序</h1><p>&emsp;&emsp;二路归并排序：将两个有序数组合并成为一个有序数组。由上至下递归拆分数组，由下至上递归合并数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MergeSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[] tmp, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(l &gt;= r) &#123; <span class="comment">// 已经有序</span></span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">		mSort(nums, tmp, l, m);</span><br><span class="line">		mSort(nums, tmp, m + <span class="number">1</span>, r);</span><br><span class="line">		<span class="comment">// 此时两个数组都有序，合并两个数组</span></span><br><span class="line">		<span class="keyword">int</span> idx = l;</span><br><span class="line">		<span class="keyword">int</span> idx1 = l;</span><br><span class="line">		<span class="keyword">int</span> idx2 = m + <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(idx1 &lt;= m &amp;&amp; idx2 &lt;= r) &#123;</span><br><span class="line">			<span class="keyword">if</span>(nums[idx1] &lt; nums[idx2]) &#123;</span><br><span class="line">				tmp[idx++] = nums[idx1++];</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				tmp[idx++] = nums[idx2++];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(idx1 &lt;= m) &#123;</span><br><span class="line">			tmp[idx++] = nums[idx1++];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(idx2 &lt;= r) &#123;</span><br><span class="line">			tmp[idx++] = nums[idx2++];</span><br><span class="line">		&#125;</span><br><span class="line">		idx = l;</span><br><span class="line">		<span class="keyword">while</span>(idx &lt;= r) &#123;</span><br><span class="line">			nums[idx] = tmp[idx++];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		mSort(nums, <span class="keyword">new</span> <span class="keyword">int</span>[nums.length], <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		mergeSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="八、基数排序"><a href="#八、基数排序" class="headerlink" title="八、基数排序"></a>八、基数排序</h1><p>&emsp;&emsp;不断地分配、收集的过程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RadixSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> val;</span><br><span class="line">		Node next;</span><br><span class="line">		Node(<span class="keyword">int</span> val) &#123;</span><br><span class="line">			<span class="keyword">this</span>.val = val;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">radixSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 把nums转换为链表存储</span></span><br><span class="line">		Node[] heads = <span class="keyword">new</span> Node[<span class="number">10</span>];</span><br><span class="line">		Node[] tails = <span class="keyword">new</span> Node[<span class="number">10</span>];</span><br><span class="line">		Node head = <span class="keyword">null</span>;</span><br><span class="line">		Node tail = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">			Node tmp = <span class="keyword">new</span> Node(val);</span><br><span class="line">			tmp.next = <span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">if</span>(head == <span class="keyword">null</span>) &#123;</span><br><span class="line">				head = tail = tmp;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				tail.next = tmp;</span><br><span class="line">				tail = tail.next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// cou 记录基数为 0 的链上的节点数，如果等于总节点数，则已经排好序</span></span><br><span class="line">		<span class="keyword">int</span> cou = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> rad = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(cou != nums.length) &#123;</span><br><span class="line">			cou = <span class="number">0</span>;</span><br><span class="line">			rad = rad * <span class="number">10</span>;</span><br><span class="line">			tail = head;</span><br><span class="line">			<span class="comment">// 分配</span></span><br><span class="line">			<span class="keyword">while</span>(tail != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">int</span> radix = (tail.val / (rad / <span class="number">10</span>)) % <span class="number">10</span>;</span><br><span class="line">				<span class="keyword">if</span>(radix == <span class="number">0</span>) &#123;</span><br><span class="line">					cou++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(heads[radix] == <span class="keyword">null</span>) &#123;</span><br><span class="line">					heads[radix] = tails[radix] = tail;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					tails[radix].next = tail;</span><br><span class="line">					tails[radix] = tails[radix].next;</span><br><span class="line">				&#125;</span><br><span class="line">				tail = tail.next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 收集</span></span><br><span class="line">			head = tail = <span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(heads[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				tails[i].next = <span class="keyword">null</span>;</span><br><span class="line">				tails[i] = heads[i];</span><br><span class="line">				<span class="keyword">while</span>(tails[i] != <span class="keyword">null</span>) &#123;</span><br><span class="line">					<span class="keyword">if</span>(head == <span class="keyword">null</span>) &#123;</span><br><span class="line">						head = tail = tails[i];</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						tail.next = tails[i];</span><br><span class="line">						tail = tail.next;</span><br><span class="line">					&#125;</span><br><span class="line">					tails[i] = tails[i].next;</span><br><span class="line">				&#125;</span><br><span class="line">				heads[i] = <span class="keyword">null</span>;</span><br><span class="line">				<span class="comment">//System.out.println(&quot;fuck you!&quot;);</span></span><br><span class="line">			&#125;</span><br><span class="line">			tail.next = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 链表转换为数组</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			nums[i] = head.val;</span><br><span class="line">			head = head.next;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line">		radixSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="九、基数排序"><a href="#九、基数排序" class="headerlink" title="九、基数排序"></a>九、基数排序</h1><p>&emsp;&emsp;只能排序整数，且最大最小值不能差太大</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountingSort</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">cSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> d, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] cou = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">			cou[val - d]++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cou.length; i++) &#123;</span><br><span class="line">			<span class="keyword">while</span>(cou[i] != <span class="number">0</span>) &#123;</span><br><span class="line">				nums[idx++] = i + d;</span><br><span class="line">				cou[i]--;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">countingSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> minnum = nums[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">int</span> maxnum = nums[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">			<span class="keyword">if</span>(val &gt; minnum) &#123;</span><br><span class="line">				maxnum = val;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(val &lt; maxnum) &#123;</span><br><span class="line">				minnum = val;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cSort(nums, minnum, maxnum - minnum + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>, -<span class="number">100</span>&#125;;</span><br><span class="line">		countingSort(nums);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">			System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="十、桶排序"><a href="#十、桶排序" class="headerlink" title="十、桶排序"></a>十、桶排序</h1><p>&emsp;&emsp;根据某种规则划分元素到不同的桶，桶之间是有序的，再对桶内元素选择一种方法排序，最后按桶的大小关系依次合起来。<br>&emsp;&emsp;代码略。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/13/%E4%BF%9D%E7%A0%94%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/13/%E4%BF%9D%E7%A0%94%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">保研记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-13 21:15:57" itemprop="dateCreated datePublished" datetime="2020-10-13T21:15:57+08:00">2020-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-18 08:48:40" itemprop="dateModified" datetime="2020-10-18T08:48:40+08:00">2020-10-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="保研记录"><a href="#保研记录" class="headerlink" title="保研记录"></a>保研记录</h1><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>&emsp;&emsp;最近看了一下知乎上关于保研踩坑的问题，惊出一身冷汗，看到好多人和我一样，一直到最后一刻都没什么不同，只不过我待录取，他们被鸽了。谢天谢地，我联系的老师，跟我们保证的都做到了。（<font color=#f9eda6>张贺老师是个讲信用的老师，十分推荐！</font>）<br><br/><br><br/></p>
<h4 id="夏令营报名"><a href="#夏令营报名" class="headerlink" title="夏令营报名"></a>夏令营报名</h4><ul>
<li>北航</li>
<li>北京理工</li>
<li>大连理工</li>
<li>电子科大</li>
<li>东北大学</li>
<li>湖南大学</li>
<li>吉林大学</li>
<li>山东大学</li>
<li>中国海洋大学</li>
<li>中南大学</li>
<li>东南大学软件学院</li>
<li>南京大学软件学院</li>
</ul>
<h4 id="夏令营入营"><a href="#夏令营入营" class="headerlink" title="夏令营入营"></a>夏令营入营</h4><ul>
<li>中国海洋大学</li>
<li>吉林大学</li>
<li>东北大学</li>
<li>湖南大学</li>
<li>南京大学软件学院</li>
</ul>
<h4 id="夏令营优秀营员"><a href="#夏令营优秀营员" class="headerlink" title="夏令营优秀营员"></a>夏令营优秀营员</h4><ul>
<li>中国海洋大学</li>
<li>东北大学</li>
</ul>
<h4 id="夏令营良好营员"><a href="#夏令营良好营员" class="headerlink" title="夏令营良好营员"></a>夏令营良好营员</h4><ul>
<li>南京大学软件学院</li>
<li>湖南大学</li>
</ul>
<h4 id="保研流水记录"><a href="#保研流水记录" class="headerlink" title="保研流水记录"></a>保研流水记录</h4><p>&emsp;&emsp;疫情爆发一直在家待着，从家前菜园里盖着雪的油菜刚冒出来，到比我还高开花结籽，卖了油菜收了麦子又种上棉花，我在楼上挂着网课，看着烈阳把棉花慢慢爆出棉絮，生活缓慢悠长。<br/></p>
<p>&emsp;&emsp;悠游的日子都快让我忘了保研的事，直到六月底Z才提醒我，我们开始写简历，准备材料，给宿管阿姨打电话，让她把我们宿舍的证书拍照发给了我们。<br/></p>
<p>&emsp;&emsp;我们开始只入营了吉林大学和中国海洋大学，准备面试期间有吉大的学长联系了我们，想给他导师拉人，可惜吉大是处女站，没有经验，而且吉大只面了几分钟——整个夏令营就一个面试，面试就几分钟。好像马上就出了结果，我们落榜。随后马上面了海大，没答上来什么题，两个人面完都觉得悬。<br/></p>
<p>&emsp;&emsp;我们等海大结果等了很久，吉大学长联系我们后，我一度看不起山东大学，等吉大结果一出来，加之海大面试感觉与吉大没什么不同，估计也进不了，顿时山东大学都不敢妄想，开始找普通211夏令营，甚至一度宽慰Z（自慰？）大不了本校垫底。<br/></p>
<p>&emsp;&emsp;幸好随后海大收了我们，Z学硕，我专硕。又面了湖南大学，一度想能去岳麓书院做个酸臭书生，奈何湖大夏令营近400人，给了我们倒数的名次，说是不分优秀只按排名先后录取，但是我还是有点生气——我再差也不至于此吧。据后来情况看，近400多只鸽子应该是鸽完了，凌晨给我打电话，下午又给我打，中间还有同学在群里拉人……可怜。<br/></p>
<p>&emsp;&emsp;再后来就是面东大和南大，都是先机试再面试，都很顺利。总共入营五个，只有南软我们是事先无意通过以往保南软的学长联系的老师。五个中一个被刷了，两个稳了，剩下湖大和南大我们都是候补，湖大按排名录我们排名非常靠后，南大给我们的是良好。<br/></p>
<p>&emsp;&emsp;夏令营告一段落后过了很长时间，张老师联系我们，我们加入老师实验室学习。直到九月开学，在封闭的学校中焦急等待，不知道能不能保研，保研了能不能去南大，在焦虑中还不能放松，每周都得学习并向南大实验室学长汇报。最焦虑的一段时间里，我开始用学习麻痹自己。<br/></p>
<p>&emsp;&emsp;直到交了保研申请表和材料，和Z一起痛苦地等待到公示的那一刻，我们在IT职业道德课上紧张地从最后开始看那张别人发过来的模糊的公示表，看到Z的名字，我们紧绷的筋才松了一根。<br/></p>
<p>&emsp;&emsp;十二号系统开放，我们从零点开始填志愿，南大东大海大。没过多久东大海大催我们尽快接受录取，我们艰难地拒绝，我们孤注一掷。那时我感觉我们的人生开始剧烈地频闪。期间老师不断告诉我们一定会录，这是在命运的阴影下两个惶惶小人唯一的安慰。后来我看到一个帖子，他们老师也是这样给他们说的，直到12号晚，老师突然告诉他们名额没了。<br/></p>
<p>&emsp;&emsp;我想我们都假想过是否能保研，保不上何去何从，假想过十二号那天被录取后开心的日子，假想过落榜后的人生……这棵简单的二叉树就足够将我们的人生折腾得天翻地覆<br><br/><br><br/></p>
<h4 id="保研经验"><a href="#保研经验" class="headerlink" title="保研经验"></a>保研经验</h4><p>&emsp;&emsp;我们学校排名按综合分算，综合分 = 0.85 * 智育分 + 0.15 * （0.7 * 科研 + 0.3 * 乱七八糟），要保研，智育和科研分得上得去。<br/></p>
<p>&emsp;&emsp;智育就靠平时考试，我们学校考试多，考试简单，考前多突击学习，考前的课多听，老师喜欢透题。另外，给分不多的选修就不要选了，给分不多的必修也可以换老师。<br/></p>
<p>&emsp;&emsp;科研分就得多参加比赛才能拿了，尤其是ACM和数学建模，软件著作权一定要买（很后悔没弄两个，要是不会的话可以问老师），还有一些杂七杂八的比赛。<br/></p>
<p>&emsp;&emsp;还有一些基本条件</p>
<ul>
<li>不能挂科</li>
<li>不能有处分</li>
<li>得过四级<br/>

</li>
</ul>
<p>&emsp;&emsp;另外，操行评等对保研没有影响，如果不想拿国奖（8000元）等一些奖的话，加德育的讲座啥的不想去完全可以不用去。没有双优有贫困等级可以拿国励（5000元）。<br><br/><br><br/></p>
<h4 id="夏令营经验"><a href="#夏令营经验" class="headerlink" title="夏令营经验"></a>夏令营经验</h4><p>&emsp;&emsp;按Z的经验，首先一定是联系导师，在参加夏令营之前就联系导师，保研后才知道几个大佬都是先联系的导师，在后来夏令营中可能会有很大方便，毕竟保研不是高考，公平性并不高。<br/></p>
<p>&emsp;&emsp;其次，准备好机试，都是一些简单的题，深搜递归就搞定，再难的也不会做了。还可能有面向对象的题，这玩意就是考语法，面向对象那些各种语言的语法记住就行。<br/></p>
<p>&emsp;&emsp;第三，准备好专业课，夏令营中被问的最多的是《计算机网络》、《数据结构》、《操作系统》，但凡我复习一下我也不会一个都没答上来。<br/></p>
<p>&emsp;&emsp;第四，英语口语。一是自我介绍，背就完事。二是提问，刚就完事，老师说请用英文介绍一下你学校，答曰不会，老师说介绍一下哈尔滨，答曰不会，老师说有会的吗？答曰自我介绍。<br/></p>
<p>&emsp;&emsp;第五，如果你是党员，基本的东西得背，不然问你社会基本矛盾是什么，哦豁，完蛋。<br/></p>
<p>&emsp;&emsp;最后，也是最重要的是，如果你也像我一样喜欢直言不会，那你写在简历上的东西就很重要了，尤其是项目。对于我这种项目都没有的，幸好我在平时用python写了一些小工具，当项目写在简历上了。比如我有一个“使用selenium库自动化测试学习强国网页的图形化工具”项目，老师问了半天，怼我说这不就是个学习强国刷分脚本吗？那我当然不能承认。<br/></p>
<p>&emsp;&emsp;总之，事先联系导师，练练手敲代码，复习好专业课，练练英语口语，政治基本常识知道，简历上的项目准备好被老师刨根问底。<br><br/><br><br/></p>
<h4 id="杂"><a href="#杂" class="headerlink" title="杂"></a>杂</h4><p>&emsp;&emsp;保研已经算是进社会了，社会险恶，不要忘恩负义，更不要轻信别人。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/20/%E4%BB%A5%E4%B8%8B%E6%96%87%E7%AB%A0%E6%8E%92%E7%89%88%E6%9C%89%E9%97%AE%E9%A2%98%EF%BC%8C%E7%9C%8B%E8%BF%99%E9%87%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/20/%E4%BB%A5%E4%B8%8B%E6%96%87%E7%AB%A0%E6%8E%92%E7%89%88%E6%9C%89%E9%97%AE%E9%A2%98%EF%BC%8C%E7%9C%8B%E8%BF%99%E9%87%8C/" class="post-title-link" itemprop="url">以下文章排版有问题，看这里</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-20 23:55:29" itemprop="dateCreated datePublished" datetime="2020-09-20T23:55:29+08:00">2020-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-21 00:04:27" itemprop="dateModified" datetime="2020-09-21T00:04:27+08:00">2020-09-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>用石墨文档记的笔记，但是它的语法好像和主流的有点问题，导出来是乱的，下面补上石墨的链接<br><a target="_blank" rel="noopener" href="https://shimo.im/docs/xkxpcRQ6C6RxY9ty/">Shell简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/jqK96GwDQxkXkWkt/">大学赚钱</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/cRCVjgcPdX39Qt8J/">k8s简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/hTWgxDjp36kGQ9yd/">git简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/Thy8VGY99ydrjTdt/">Linux简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/DHYTQcqJC9HTrwCX/">Docker简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/hWPjD3HYq9wqX3yx/">Go简记</a><br><a target="_blank" rel="noopener" href="https://shimo.im/docs/pgPxRpcgYjg9tqcR/">区块链笔记</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/20/hyperledger%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/20/hyperledger%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">hyperledger简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-09-20 23:26:27 / 修改时间：23:37:16" itemprop="dateCreated datePublished" datetime="2020-09-20T23:26:27+08:00">2020-09-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h3><ul>
<li>理解Hyperledger fabric 1.1的基本概念和软件架构；</li>
<li>能根据企业业务情况，分析Hyperledger fabric 的应用场景；</li>
<li>熟悉Hyperledger fabric的关键组件：peer，ordering service，ca和msp。</li>
<li>能够建立测试网络，使用node sdk编写应用程序。</li>
<li>能够使用nodejs编写链码。</li>
<li>能够参与到Hyperledger fabric开源项目的讨论和开发中</li>
</ul>
<h1 id="Hyperledger-fabric-简介"><a href="#Hyperledger-fabric-简介" class="headerlink" title="Hyperledger fabric 简介"></a>Hyperledger fabric 简介</h1><p>hyperledger fabric 是基于区块链的企业级分布式账本技术，通过智能合约解决多个组织之间的信任问题</p>
<ul>
<li>模块化</li>
<li>可扩展</li>
<li>超安全</li>
</ul>
<h1 id="重要名词"><a href="#重要名词" class="headerlink" title="重要名词"></a>重要名词</h1><ul>
<li>Hyperledger：由linux基金会孵化的区块链技术</li>
<li>Hyperledger Fabirc：第一个孵化出的商用DLT框架</li>
<li>Hyperledger composer：一个在DLT框架上创建的商业应用的工具</li>
<li>MSP（Membership Service Provider）：只是一个接口，管理Roles 和 Access Restrictions</li>
<li>fabric ca：一个高质量工具，帮助我们自动生成证书。ca可以为不同用户生成不同证书。支持链式继承，上一级别的ca可以很容易作废下一级证书</li>
<li>chaincode：chaincode可以获取用户证书</li>
</ul>
<h1 id="Hyperledger为什么特别适合企业级开发"><a href="#Hyperledger为什么特别适合企业级开发" class="headerlink" title="Hyperledger为什么特别适合企业级开发"></a>Hyperledger为什么特别适合企业级开发</h1><ul>
<li>premissioned network 授权网络<ul>
<li>access control</li>
</ul>
</li>
<li>transaction 是可以控制可见性的</li>
<li>no cryptocurrency 无数字货币<ul>
<li>没有矿工，低成本，验证操作灵活 </li>
</ul>
</li>
<li>programmable 可编程<ul>
<li>chaincode（smart contract 智能合约）</li>
</ul>
</li>
<li>使用Hyperledger可以创建私有链、联盟链和公有链 </li>
<li>Hyperledger 没有 51% 攻击，没有挖矿的概念，因为 Hyperledger 采用了独特的共识协议，每个共识协议的参与者都是由CA来认证的</li>
</ul>
<h1 id="Assets，chaincode-amp-ledger"><a href="#Assets，chaincode-amp-ledger" class="headerlink" title="Assets，chaincode&amp;ledger"></a>Assets，chaincode&amp;ledger</h1><ul>
<li>assets：有价值的东西，可以被交易的东西，json表示</li>
<li>chaincode：transaction | business logic</li>
<li>ledger：记录了所有的transaction，所有的状态 ，所有参与者都保存了ledger</li>
</ul>
<h1 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h1><p>Hyperledger 中 node 分为三种：</p>
<ul>
<li>client：实例化 transaction<ul>
<li>cli</li>
<li>node sdk</li>
<li>java sdk</li>
</ul>
</li>
<li>peer：用来存储和同步 ledger 的数据</li>
<li>orderer：用来排序分发 transaction</li>
</ul>
<h1 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h1><p>每个 channel 可以理解成独立的 Hyperledger fabri 的实例（其他区块链系统里没有channel的概念），理解成 私有子网</p>
<h1 id="chaincode"><a href="#chaincode" class="headerlink" title="chaincode"></a>chaincode</h1><h4 id="1-是什么"><a href="#1-是什么" class="headerlink" title="1.是什么"></a>1.是什么</h4><p>chaincode 就是智能合约，是应用程序，是代码，是business logic。用来更新账本数据。可以用 nodejs、java、go 编写。在Hyperledger里，读取和更新数据必须通过 chaincode 来完成</p>
<h4 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2.生命周期"></a>2.生命周期</h4><p>chaincode需要先安装，然后必须实例化，实例化chaincode会启动docker容器，在这个容器里面运行chaincode</p>
<ul>
<li>安装 install</li>
<li>实例化 init</li>
<li>调用 invoke</li>
</ul>
<h4 id="3-背书策略"><a href="#3-背书策略" class="headerlink" title="3.背书策略"></a>3.背书策略</h4><p>通过 AND 或者 OR 关键字定义背书策略</p>
<h4 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a>4.总结</h4><ul>
<li>每个 peer 可以属于多个 channel</li>
<li>每个 channel 有独立的ledger</li>
<li>每个 channel 可以有一个或者多个 chaincode</li>
<li>每个 chaincode 可以有不同的背书策略</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/16/Shell%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/16/Shell%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">Shell简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-16 22:51:30" itemprop="dateCreated datePublished" datetime="2020-09-16T22:51:30+08:00">2020-09-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:52:53" itemprop="dateModified" datetime="2020-09-20T23:52:53+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Shell是一个命令行解释器，为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序。</p>
<h1 id="Shell-变量"><a href="#Shell-变量" class="headerlink" title="Shell 变量"></a>Shell 变量</h1><hr>
<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>Linux Shell 中的变量分为系统变量和用户自定义变量</p>
<pre><code>* 系统变量：系统已经定义好的，可以直接拿来用
    * 如：￥PATH、$HOME、$PWD、$SHELL、$USER
* 用户自定义变量：</code></pre>
<p>显示当前Shell中所有变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set</span><br></pre></td></tr></table></figure>
<h4 id="Shell变量的定义"><a href="#Shell变量的定义" class="headerlink" title="Shell变量的定义"></a>Shell变量的定义</h4><p>定义变量：变量=值</p>
<pre><code>* 变量名称可以由字母、数字、下划线组成，但是不能以数字开头
* 等号两边不能有空格
* 变量名称一般习惯为大写</code></pre>
<p>将命令的返回值赋给变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A&#x3D;&#96;ls -la&#96; #使用反引号，运行反引号里的命令，并把结果返回给变量A</span><br><span class="line">A&#x3D;$(ls -la)#等价于反引号</span><br></pre></td></tr></table></figure>

<h4 id="撤销变量"><a href="#撤销变量" class="headerlink" title="撤销变量"></a>撤销变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset 变量</span><br></pre></td></tr></table></figure>
<h4 id="声明静态变量"><a href="#声明静态变量" class="headerlink" title="声明静态变量"></a>声明静态变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">readonly 变量</span><br><span class="line">#静态变量不能被unset</span><br></pre></td></tr></table></figure>
<h4 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h4><p>基本语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export 变量名&#x3D;变量值 #将shell变量输出为环境变量</span><br><span class="line">source 配置文件     #让修改后的配置文件立即生效</span><br><span class="line">echo $变量名        #查询环境变量的值</span><br></pre></td></tr></table></figure>
<h4 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h4><p>基本语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$n：n为小于10的数字，$0代表命令本身，$1 - $9 代表第一到第九个参数</span><br><span class="line">$&#123;n&#125;：n为数字，意义同上</span><br><span class="line">$*：代表命令行中的所有参数，把所有参数看成一个整体</span><br><span class="line">$@：代表命令行中的所有参数，把每个参数区分对待</span><br><span class="line">$#：代表命令行中所有参数的个数(不包括命令本身)</span><br></pre></td></tr></table></figure>
<h4 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h4><p>shell设计者事先已经定义好的变量，可以直接在shell脚本中使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$：当前进程的PID</span><br><span class="line">$!：后台运行的最后一个进程的PID</span><br><span class="line">$?：最后一次执行的命令的返回状态。如果为0，证明上一个命令正常执行，否则不正确（具体返回为多少由命令自己决定）</span><br></pre></td></tr></table></figure>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><pre><code>* $((运算式))
* $[运算式]           #推荐使用
* expr m + n
    * 运算符用空格隔开
    * 加减乘除：+、-、\*、/</code></pre>
<h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><hr>
<h1 id="if条件判断"><a href="#if条件判断" class="headerlink" title="if条件判断"></a>if条件判断</h1><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ condition ]</span><br><span class="line">#condition前后要有空格</span><br><span class="line">#非空返回true</span><br></pre></td></tr></table></figure>
<h4 id="常用的判断条件"><a href="#常用的判断条件" class="headerlink" title="常用的判断条件"></a>常用的判断条件</h4><pre><code>* 两个整数的比较
    * =：字符串比较
    * -lt：小于
    * -le：小于等于
    * -eq：等于
    * -gt：大于
    * -ge：大于等于
    * -ne：不等于
* 文件权限的判断
    * -r：有读的权限
    * -w：有写的权限
    * -x：有执行的权限
* 文件类型的判断
    * -f：文件存在并且是一个常规的文件
    * -e：文件存在
    * -d：文件存在并且是一个目录</code></pre>
<h4 id="案例1"><a href="#案例1" class="headerlink" title="案例1"></a>案例1</h4><p>“ok” 是否等于 “ok”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ &quot;ok&quot; &#x3D; &quot;ok&quot; ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;yes&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="案例2"><a href="#案例2" class="headerlink" title="案例2"></a>案例2</h4><p>23 是否大于等于 22</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ 23 -ge 22 ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;yes&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="案例3"><a href="#案例3" class="headerlink" title="案例3"></a>案例3</h4><p>判断是否存在test.py文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ -e test.py ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;exist&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="案例4"><a href="#案例4" class="headerlink" title="案例4"></a>案例4</h4><p>判断输入分数是否及格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ $&#123;1&#125; -ge 60 ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;及格了&quot;</span><br><span class="line">elif [ $&#123;1&#125; -lt 60 ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;未及格&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h1 id="case分支控制"><a href="#case分支控制" class="headerlink" title="case分支控制"></a>case分支控制</h1><p>案例：判断周几</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">echo &quot;周一&quot;</span><br><span class="line">;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">echo &quot;周二&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;其他&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<h1 id="for"><a href="#for" class="headerlink" title="for"></a>for</h1><h4 id="语法1"><a href="#语法1" class="headerlink" title="语法1"></a>语法1</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3 ...</span><br><span class="line">do</span><br><span class="line">  程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>示例：打印所有位置参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">for i in &quot;$@&quot;</span><br><span class="line">do </span><br><span class="line">    echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h4 id="语法2"><a href="#语法2" class="headerlink" title="语法2"></a>语法2</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((初始化;判断条件;增量))</span><br><span class="line">do</span><br><span class="line">    程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>示例：使用循环计算从1加到100</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">SUM&#x3D;0</span><br><span class="line">for((i&#x3D;0;i&lt;&#x3D;100;i++))</span><br><span class="line">do</span><br><span class="line">    SUM&#x3D;$[$SUM+i]</span><br><span class="line">done</span><br><span class="line">echo $SUM</span><br></pre></td></tr></table></figure>

<h1 id="while"><a href="#while" class="headerlink" title="while"></a>while</h1><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式子 ]</span><br><span class="line">do</span><br><span class="line">    程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>案例：计算1到n</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">SUM&#x3D;0</span><br><span class="line">i&#x3D;1</span><br><span class="line">while [ $i -le $1 ]</span><br><span class="line">do</span><br><span class="line">    SUM&#x3D;$[$SUM+$i]</span><br><span class="line">    i&#x3D;$[$i+1]</span><br><span class="line">done</span><br><span class="line">echo $SUM</span><br></pre></td></tr></table></figure>


<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><hr>
<h1 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h1><h4 id="basename"><a href="#basename" class="headerlink" title="basename"></a>basename</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">basename &#x2F;home&#x2F;lilingjie&#x2F;test.txt</span><br><span class="line">#返回test.txt</span><br><span class="line">basename &#x2F;home&#x2F;lilingjie&#x2F;test.txt .txt</span><br><span class="line">#返回test</span><br></pre></td></tr></table></figure>
<h4 id="dirname"><a href="#dirname" class="headerlink" title="dirname"></a>dirname</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dirname &#x2F;home&#x2F;lilingjie&#x2F;test.txt</span><br><span class="line">#返回&#x2F;home&#x2F;lilingjie</span><br></pre></td></tr></table></figure>

<h1 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h1><p>案例：计算a + b</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">function getSum()&#123;</span><br><span class="line">    SUM&#x3D;$[$a+$b]</span><br><span class="line">    echo &quot;a+b&#x3D;$SUM&quot;</span><br><span class="line">&#125;</span><br><span class="line">read -p &quot;请输入a：&quot; a</span><br><span class="line">read -p &quot;请输入b：&quot; b</span><br><span class="line">getSum $a $b</span><br></pre></td></tr></table></figure>





















<h1 id="杂"><a href="#杂" class="headerlink" title="杂"></a>杂</h1><h4 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;!</span><br><span class="line">我被注释了</span><br><span class="line">!</span><br></pre></td></tr></table></figure>
<h4 id="命令后台运行"><a href="#命令后台运行" class="headerlink" title="命令后台运行"></a>命令后台运行</h4><p>在命令后接一个&amp;</p>
<h4 id="读取控制台"><a href="#读取控制台" class="headerlink" title="读取控制台"></a>读取控制台</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">read [选项] [参数]</span><br><span class="line">#-p：指定读取时的提示符</span><br><span class="line">#-t：指定等待时间（秒）</span><br></pre></td></tr></table></figure>
<p>案例：等待用户输入，只等10秒</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">read -t 10 -p &quot;请输入：&quot; input_str</span><br><span class="line">echo &quot;你输入的是：input_str&quot;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/15/%E5%A4%A7%E5%AD%A6%E8%B5%9A%E9%92%B1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/15/%E5%A4%A7%E5%AD%A6%E8%B5%9A%E9%92%B1/" class="post-title-link" itemprop="url">大学赚钱</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-15 21:26:33" itemprop="dateCreated datePublished" datetime="2020-09-15T21:26:33+08:00">2020-09-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:52:30" itemprop="dateModified" datetime="2020-09-20T23:52:30+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="性价比高，极力推荐"><a href="#性价比高，极力推荐" class="headerlink" title="性价比高，极力推荐"></a>性价比高，极力推荐</h4><ol>
<li>卖校园卡：一张提成59元（2020.9.15本校数据）</li>
<li>家教：一小时50元（2017年数据，本校有组织，加入通过面试就行）</li>
<li>代课、代形式主义：代课只需答到，时间可以学习；形式主义大学很多，比如之前老师同学都要刷学习强国，我见过有代刷分的，听说有教授愿意给钱</li>
<li>代写：代写本专业的实验报告，价钱自己谈，客户在各种技术交流群、代写群里找。（比如我代写python、C，一般的在60元左右。2020年疫情有网上考试，我见过很多学霸代考，挣钱快。ps：代考违法，请勿代考！）</li>
<li>接外包：用本专业知识接单。价格自己谈，赚钱多，还能锻炼专业能力，极力推荐（这条要求比较高，我同学给人做过，我只做过代写实验报告的代码）<h4 id="性价比低，去之前最好想好自己为什么去"><a href="#性价比低，去之前最好想好自己为什么去" class="headerlink" title="性价比低，去之前最好想好自己为什么去"></a>性价比低，去之前最好想好自己为什么去</h4></li>
</ol>
<ol>
<li>学校超市售货：一小时8元（2020本校数据）</li>
<li>奶茶店售货：一小时8元</li>
<li>去外面餐馆超市打工：不知价格，估计不高</li>
<li>代抄：有很多东西要手写，大学有专门的接单群，费时费力且钱不多<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4></li>
</ol>
<p>性价比高指，有的来钱快机会少，基本是抢钱（卖卡）；有的有趣，锻炼交际，不需学习成本（家教，辅导高中生，代课，代形式主义）；有的锻炼自己专业能力（代写实验报告，接外包）</p>
<p>性价比低指，费时费力，钱少还学不到什么</p>
<p>ps：仅仅写了一些我做过的，我见过的。还有一些做自媒体、up主什么的，大学时期的同学里我没见过。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/28/git%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/28/git%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">git简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-28 23:26:24" itemprop="dateCreated datePublished" datetime="2020-08-28T23:26:24+08:00">2020-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:51:51" itemprop="dateModified" datetime="2020-09-20T23:51:51+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="git-结构"><a href="#git-结构" class="headerlink" title="git 结构"></a>git 结构</h1><pre><code>* 工作区：写代码，通过git add提交到暂存区
* 暂存区：临时存储，通过git commit提交到本地库
* 本地库：保存历史版本</code></pre>
<h1 id="本地库操作"><a href="#本地库操作" class="headerlink" title="本地库操作"></a>本地库操作</h1><ol>
<li><p>本地库初始化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
<p>初始化本地库后多了 .git 文件夹， .git 目录中存放的是本地库相关的子目录和文件</p>
</li>
<li><p>设置签名</p>
</li>
</ol>
<p>形式：</p>
<pre><code>* 用户名：llj
* Email地址：zz@qq.com</code></pre>
<p>作用：区分不同开发人员身份</p>
<p>辨析：这里设置的签名和登录远程库的账密没有任何关系</p>
<p>命令：</p>
<pre><code>* 项目级别/仓库级别：仅在本地库范围内有效
    * git config user.name llj
    * git config user.email zz@qq.com
    * 信息保存在当前项目下的config文件中
* 系统用户级别：登录当前操作系统的用户范围
    * git config --global user.name llj
    * git config --global user.email zz@qq.com
    * 信息保存在 ~/.gitconfig 文件
* 项目级别优先系统用户级别，不允许二者都没有</code></pre>
<h1 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h1><ol>
<li><p>状态查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
<p>查看工作区、暂存区状态</p>
</li>
<li><p>添加操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add [file name]</span><br></pre></td></tr></table></figure>
<p>将工作区的新建/修改添加到暂存区</p>
</li>
<li><p>提交操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;commit message&quot; [file name]</span><br></pre></td></tr></table></figure>
<p>将暂存区提交到本地库</p>
</li>
<li><p>查看历史记录操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br><span class="line">git log --pretty&#x3D;oneline</span><br><span class="line">git log --oneline</span><br><span class="line">git reflog</span><br></pre></td></tr></table></figure>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4></li>
<li><p>前进后退</p>
</li>
</ol>
<p>基于索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard 索引</span><br></pre></td></tr></table></figure>
<p>使用^符号：只能后退</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^^</span><br></pre></td></tr></table></figure>
<p>根据^符号的数量来回退几次<br>使用~符号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~2</span><br></pre></td></tr></table></figure>
<p>根据~符号后的数字来回退几次<br>reset命令三个参数对比：</p>
<pre><code>* --soft：
    * 仅仅在本地库移动HEAD指针
* --mixed：
    * 在本地库移动HEAD指针
    * 重置暂存区
* --hard：
    * 在本地库移动HEAD指针
    * 重置暂存区
    * 重置工作区</code></pre>
<ol start="5">
<li>删除文件并找回</li>
</ol>
<p>删除：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rm good.txt</span><br><span class="line">git add good.txt</span><br><span class="line">git commit -m &quot;del good.txt&quot;</span><br></pre></td></tr></table></figure>
<p>找回：</p>
<p>已提交至本地库：回退一个版本</p>
<p>未提交至本地库：git reset –hard HEAD</p>
<ol start="6">
<li><p>比较文件差异</p>
<ul>
<li>git diff [文件名]<ul>
<li>将工作区中的文件与暂存区进行比较</li>
</ul>
</li>
<li>git diff [本地库中历史文件] [文件名]<ul>
<li>将工作区中的文件和本地库历史记录比较</li>
</ul>
</li>
<li>git diff：比较多个文件</li>
</ul>
</li>
</ol>
<h1 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h1><ol>
<li>什么是分支</li>
</ol>
<p>在版本控制过程中，使用多条线同时推进多个任务</p>
<ol start="2">
<li><p>分支的好处</p>
<ul>
<li>同时并行推进多个功能开发，提高开发效率</li>
<li>各个分支在开发过程中，某个分支开发失败，不会影响其他分支</li>
</ul>
</li>
<li><p>分支操作</p>
<ul>
<li>创建分支<ul>
<li>git branch [分支名]</li>
</ul>
</li>
<li>查看分支<ul>
<li>git branch -v</li>
</ul>
</li>
<li>切换分支<ul>
<li>git checkout [分支名]</li>
</ul>
</li>
<li>合并分支<ul>
<li>切换到被合并的分支上：git checkout [分支名]</li>
<li>执行 merge 命令：git merge [分支名]</li>
</ul>
</li>
<li>解决冲突<ul>
<li>编辑文件，删除特殊符号</li>
<li>把文件修改到满意的程度</li>
<li>git add .</li>
<li>git commit -m “日志信息”<ul>
<li>commit 此时不能带文件名</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="Git基本原理"><a href="#Git基本原理" class="headerlink" title="Git基本原理"></a>Git基本原理</h1><ol>
<li>哈希</li>
</ol>
<p>采用 SHA-1 哈希算法</p>
<ol>
<li>保存版本的机制</li>
</ol>
<p>集中式版本控制工具的文件管理机制（增量式）</p>
<p>以文件变更列表的方式存储信息。这类系统讲他们保存的信息看做是一组基本文件和每个文件随时间逐步积累的差异</p>
<p><img src="https://uploader.shimo.im/f/OwpxPL43akuyAmW5.png!thumbnail" alt="图片"></p>
<p>Git 的文件管理机制（快照流）</p>
<p>每次提交更新时 Git 都会对当前全部文件制作一个快照并保存这个快照的索引。如果文件没有修改，git 不再存储该文件，而是保留一个链接指向之前存储的文件</p>
<p><img src="https://uploader.shimo.im/f/mT1iwpXOMJzVIhxg.png!thumbnail" alt="图片"></p>
<ol>
<li>分支管理机制</li>
</ol>
<p>本质是创建和移动指针</p>
<h1 id="远程仓库基本操作"><a href="#远程仓库基本操作" class="headerlink" title="远程仓库基本操作"></a>远程仓库基本操作</h1><ol>
<li>本地创建远程仓库别名</li>
</ol>
<p>在本地 gittest 仓库下创建远程仓库 gittest 别名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add lljtest https:&#x2F;&#x2F;github.com&#x2F;lilingj&#x2F;lljtest.git</span><br><span class="line">git remote -v  #查看已有别名</span><br></pre></td></tr></table></figure>

<ol>
<li>推送操作<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push 远程仓库地址或别名 分支名</span><br></pre></td></tr></table></figure>
例子：将本地仓库 gittest 的 master 分支推送到远程仓库 gittest</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push lljtest master #通过别名</span><br><span class="line">git push https:&#x2F;&#x2F;github.com&#x2F;lilingj&#x2F;lljtest.git master #通过地址</span><br></pre></td></tr></table></figure>

<ol>
<li><p>克隆操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone 远程仓库地址</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<ul>
<li>完整地把远程库下载到本地</li>
<li>创建 origin 远程地址别名</li>
<li>初始化本地库</li>
</ul>
</li>
<li><p>添加协作成员</p>
</li>
</ol>
<p>在 github 中添加</p>
<ol>
<li><p>抓取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch 远程库地址或别名 分支名</span><br><span class="line">git merge 远程库地址别名&#x2F;远程分支名</span><br></pre></td></tr></table></figure>
<p>上下两段代码等价</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull 远程库地址或别名 分支名</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决冲突</p>
<ul>
<li>如果不是远程库最新版所做的修改，不能推送，必须先拉取</li>
<li>拉取下来后如果进入冲突状态，解决冲突</li>
</ul>
</li>
<li><p>跨团队协作</p>
</li>
</ol>
<p>fork 远程仓库，协作人员以该远程仓库为基础，更新代码后，pull request 回被fork的仓库，经原仓库管理人员审核后，被 merge 到原仓库</p>
<ol>
<li>SSH 登录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">rm -rf .ssh</span><br><span class="line">ssh-keygen -t rsa -C myemailaddr@qq.com</span><br></pre></td></tr></table></figure>
在 .ssh 文件夹下生成 id_rsa 和 id_rsa.pub 公私钥对，将公钥复制到 github 上</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/28/k8s%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/28/k8s%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">k8s简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-28 20:26:28" itemprop="dateCreated datePublished" datetime="2020-08-28T20:26:28+08:00">2020-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:52:10" itemprop="dateModified" datetime="2020-09-20T23:52:10+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h4 id="什么是k8s？"><a href="#什么是k8s？" class="headerlink" title="什么是k8s？"></a>什么是k8s？</h4><p>k8s 是一组服务器集群</p>
<p>k8s所管理的是集群上的容器</p>
<h4 id="k8s的作用和功能"><a href="#k8s的作用和功能" class="headerlink" title="k8s的作用和功能"></a>k8s的作用和功能</h4><pre><code>* 自我修复
* 弹性伸缩：实时根据服务器的并发情况，增加或缩减容器数量
* 自动部署
* 回滚
* 服务发现和负载均衡
* 机密和配置管理
* 存储编排
* 批处理</code></pre>
<h4 id="杂"><a href="#杂" class="headerlink" title="杂"></a>杂</h4><p>MESOS                        APACHE     分布式资源管理框架</p>
<p>Docker Swarm              阿里云宣布剔除Docker Swarm</p>
<p>K8s                                Google      10年容器化基础架构</p>
<pre><code>* 轻量级：消耗资源小
* 开源
* 弹性伸缩
* 负载均衡：IPVS</code></pre>
<p>k8s本质上是一组服务器集群，k8s可以在集群的各个节点上运行特定的docker容器</p>
<h1 id="组件说明"><a href="#组件说明" class="headerlink" title="组件说明"></a>组件说明</h1><pre><code>* APISERVER：所有服务访问统一入口
* CrontrollerManager：维持副本期望数目
* Scheduler：负责介绍人物，选择合适的节点进行分配任务
* ETCD：键值对数据库，储存K8S集群所有重要信息（持久化）
* Kubelet：直接跟容器引擎交互实现容器的生命周期管理
* Kube-proxy：负责写入规则至 IPTABLES、IPVS，实现服务映射访问
* COREDNS：可以为集群中的SVC创建一个域名IP的对应关系解析
* DASHBOARD：给 K8S 集群提供一个 B/S 结构访问体系
* INGRESS CONTROLLER：官方只能实现四层代理，INGRESS 可以实现七层代理
* FEDERATION：提供一个可以跨集群中心多 K8S 统一管理功能
* PROMETHEUS：提供 K8S 集群的监控能力
* ELK：提供 K8S 集群日志统一分析介入平台</code></pre>
<h1 id="K8S-架构"><a href="#K8S-架构" class="headerlink" title="K8S 架构"></a>K8S 架构</h1><p><img src="https://uploader.shimo.im/f/1MkOvikuPOyLEba2.png!thumbnail" alt="图片"></p>
<h4 id="k8s-集群两类节点"><a href="#k8s-集群两类节点" class="headerlink" title="k8s 集群两类节点"></a>k8s 集群两类节点</h4><pre><code>* master node
* worker node</code></pre>
<h4 id="master-节点的组件（程序）"><a href="#master-节点的组件（程序）" class="headerlink" title="master 节点的组件（程序）"></a>master 节点的组件（程序）</h4><pre><code>* apiserver：接受客户端操作 k8s 的指令
* schedulor：从多个 worker 节点的组件中选举一个来启动服务
* controller manager：向 worker 节点的 kubelet 发送指令的</code></pre>
<h4 id="worker-节点的组件（程序）"><a href="#worker-节点的组件（程序）" class="headerlink" title="worker 节点的组件（程序）"></a>worker 节点的组件（程序）</h4><pre><code>* kubelet：向 docker 发送指令管理 docker 容器的
* kubeproxy：管理 docker 的网络</code></pre>
<h4 id="k8s-用的数据库"><a href="#k8s-用的数据库" class="headerlink" title="k8s 用的数据库"></a>k8s 用的数据库</h4><p>etcd：键值对数据库，用来注册节点、服务、记录账户。。。</p>
<h1 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h1><h4 id="Pod"><a href="#Pod" class="headerlink" title="Pod"></a>Pod</h4><pre><code>* Pod 是 k8s 的最小部署单元
* 一组容器的集合
* 一个 Pod 中的容器共享网络命名空间
* Pod 是短暂的</code></pre>
<h4 id="Controllers"><a href="#Controllers" class="headerlink" title="Controllers"></a>Controllers</h4><p>控制器：控制 Pod，启动、停止、删除</p>
<pre><code>* ReplicaSet：确保预期的 Pod 副本数量
* Deployment：无状态应用部署
* StatefulSet：有状态应用部署
* DaemonSet：确保所有 node 运行同一个 Pod
* Job：一次性任务
* Cronjob：定时任务</code></pre>
<h4 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h4><pre><code>* 将一组 Pod 关联起来，提供一个统一入口，即使Pod地址发生改变，用户访问也不会发生变化![图片](https://uploader.shimo.im/f/pmZgTEqIVsYN6cA4.png!thumbnail)

* 防止 Pod 失联
* 定义一组 Pod 的访问策略</code></pre>
<h4 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h4><pre><code>* 标签，附加到某个资源上，用于关联对象、查询和筛选
* 一组 Pod 有一个统一的标签，Services 通过标签和一组 Pod 关联</code></pre>
<h4 id="Namespace"><a href="#Namespace" class="headerlink" title="Namespace"></a>Namespace</h4><pre><code>* 命名空间，将对象逻辑上隔离（默认情况下，Pod 是可以互相访问的）
    * 为不同的公司提供隔离的 Pod 运行环境
    * 为开发环境、测试环境、生产环境分别准备不同的名称空间，进行隔离</code></pre>
<h1 id="K8S部署"><a href="#K8S部署" class="headerlink" title="K8S部署"></a>K8S部署</h1><ol>
<li>生产环境K8S平台规划</li>
</ol>
<p>多 master 集群，master 建议 3 台主机，etcd 必须 3 台以上（奇数：3、5、7。。。防止出现无法选举出主etcd节点），worker 节点越多越好</p>
<pre><code>* 单 master 集群：master 单点故障宕机![图片](https://uploader.shimo.im/f/Xj741bvUHIagjKoa.png!thumbnail)
* 多 master 集群（推荐使用）：通过 load balancer 实现负载均衡![图片](https://uploader.shimo.im/f/7xgcPBeHjwqaCLds.png!thumbnail)</code></pre>
<ol>
<li><p>服务器硬件配置推荐</p>
</li>
<li><p>官方提供三种部署方式</p>
</li>
</ol>
<p><img src="https://uploader.shimo.im/f/FdwU9D7Ol4TZHNV9.png!thumbnail" alt="图片"></p>
<p>初始化服务器：</p>
<pre><code>* 关闭防火墙
    * systemctl stop firewalld
    * systemctl disable firewalld
* 关闭交换分区
    * swapoff -a
    * vim /etc/fastab     删掉最后一行dev
    * free -m        若显示最后一行为0，则已经关闭
* 配置主机名
    * hostnamectl set-hostname k8s-master1-llj
* 配置名称解析
    * 配置 /etc/hosts 文件
* 关闭selinux
    * 临时关闭 setenforce 0
    * 永久关闭
        * vim /etc/selinux/config
        * 修改文件某行为 SELINUX=disabled
* 配置时间同步
    * 选择一个节点为服务端，剩下作为客户端
        * 配置服务端
            * yum install chrony -y
            * vim /etc/chrony.conf
                * 修改三项（这个我听不懂，不知道具体意义）
                    * server 127.127.1.0 iburst
                    * allow 192.168.31.0/24
                    * local stratum 10
            * systemctl start chronyd
            * systemctl enable chronyd
            * ss -unl | grep 123         有输出则成功
        * 配置客户端
            * yum install chrony -y
            * vim /etc/chrony.conf
                * 添加server 服务器地址 iburst
            * systemctl start chronyd
            * systemctl enable chronyd
            * ss -unl | grep 123         有输出则成功</code></pre>
<ol>
<li>为Etcd和APIServer自签SSL证书</li>
</ol>
<p>三步：</p>
<pre><code>    * 创建证书颁发机构
    * 填写表单，写明etcd 所在节点的ip
    * 向证书颁发机构申请证书</code></pre>
<p>加密：</p>
<pre><code>    * 对称加密：加密解密用相同秘钥
    * 非对称加密：是用公钥私钥
    * 单向加密：只能加密不能解密（哈希）</code></pre>
<p>ssl证书来源：</p>
<pre><code>    * 网络第三方机构购买
    * 自签证书（内网使用，浏览器提示信息“不受信任”）</code></pre>
<p>签证机构（CA）</p>
<p>自建CA</p>
<pre><code>    * openssl
    * cfssl</code></pre>
<ol>
<li>Etcd数据库集群部署</li>
</ol>
<p>Etcd 需要三台虚拟机</p>
<ol>
<li><p>部署Master组件</p>
</li>
<li><p>部署Node组件</p>
</li>
<li><p>部署K8S集群网络</p>
</li>
<li><p>部署Web UI（Dashboard）</p>
</li>
<li><p>部署集群内部DNS解析服务（CoreDNS）</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/25/Linux%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/25/Linux%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">Linux简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-25 23:26:29" itemprop="dateCreated datePublished" datetime="2020-08-25T23:26:29+08:00">2020-08-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:51:31" itemprop="dateModified" datetime="2020-09-20T23:51:31+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://uploader.shimo.im/f/HPJEUBJrSVgiODaJ.png!thumbnail" alt="图片"></p>
<h1 id="目录结构"><a href="#目录结构" class="headerlink" title="# 目录结构"></a># 目录结构</h1><hr>
<p>采用层级式的树状目录。Linux里面，一切皆文件</p>
<p><img src="https://uploader.shimo.im/f/07Y1dplWPIKiUV0U.png!thumbnail" alt="图片"></p>
<p><img src="https://uploader.shimo.im/f/KJVPqr8UcYrLmaOY.png!thumbnail" alt="图片"></p>
<p><img src="https://uploader.shimo.im/f/yCWUI0tYYj1Dwawi.png!thumbnail" alt="图片"><img src="https://uploader.shimo.im/f/piiIzmzyanqGDqzA.png!thumbnail" alt="图片"></p>
<p><img src="https://uploader.shimo.im/f/mgzY7ifEx6uEJXnI.png!thumbnail" alt="图片"></p>
<p><img src="https://uploader.shimo.im/f/3bxsvUiJwzzSXJtw.png!thumbnail" alt="图片"></p>
<p>重点：</p>
<pre><code>* linux 的目录中只有一个根目录 /
* linux 的各个目录存放的内容是规划好，不要乱放文件
* linux 是以文件形式管理设备，一切皆文件
* linux 每个文件目录下存放什么内容，已经规定好了</code></pre>
<h1 id="Vi-和-Vim-的使用"><a href="#Vi-和-Vim-的使用" class="headerlink" title="Vi 和 Vim 的使用"></a>Vi 和 Vim 的使用</h1><hr>
<h4 id="vi-和-vim-常用的三种模式"><a href="#vi-和-vim-常用的三种模式" class="headerlink" title="vi 和 vim 常用的三种模式"></a>vi 和 vim 常用的三种模式</h4><pre><code>* 正常模式
* 插入模式
* 命令行模式</code></pre>
<p><img src="https://uploader.shimo.im/f/AlAVPfeUaWSbht02.png!thumbnail" alt="图片"></p>
<h1 id="开机、重启、用户登录注销"><a href="#开机、重启、用户登录注销" class="headerlink" title="开机、重启、用户登录注销"></a>开机、重启、用户登录注销</h1><hr>
<h4 id="开机流程"><a href="#开机流程" class="headerlink" title="开机流程"></a>开机流程</h4><p>开机 -&gt; BIOS -&gt; /boot -&gt; init进程 -&gt; 运行级别 -&gt; 运行级对应的服务</p>
<h4 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令"></a>相关命令</h4><p>shutdown</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h now     :立即关机</span><br><span class="line">shutdown -h 1       :一分钟后关机</span><br><span class="line">shutdown -r now     :立即重启</span><br></pre></td></tr></table></figure>
<p>halt：直接使用，等价于关机</p>
<p>reboot：重启</p>
<p>sync：把内存数据同步到磁盘上（关机前使用）</p>
<p>logout：注销用户</p>
<h1 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h1><hr>
<h4 id="帮助指令"><a href="#帮助指令" class="headerlink" title="帮助指令"></a>帮助指令</h4><p>man 指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man [命令或配置文件] </span><br><span class="line">#获得帮助信息</span><br></pre></td></tr></table></figure>
<p>help 指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">help 命令</span><br><span class="line">#获得 shell 内置命令的帮助信息</span><br></pre></td></tr></table></figure>

<h4 id="文件目录类"><a href="#文件目录类" class="headerlink" title="文件目录类"></a>文件目录类</h4><pre><code>* pwd：显示当前路径
* ls：
    * -a：显示当前目录所有文件和目录（以点开头的为隐藏文件）
    * -l：以列表方式显示信息
* cd：cd ~ 回到home目录
* mkdir：
    * -p：创建多级目录
* rmdir：删除空目录
* rm -rf：删除非空目录
* touch：创建一个空文件
* cp：cp [选项] source dest
    * -r：递归复制整个文件夹
* rm：移除文件或目录
    * -r：递归删除整个文件夹
    * -f：强制删除不提示
* mv：移动文件与目录 或 重命名
    * mv oldNameFile newNameFile
    * mv source dest
* cat：查看文件内容
    * -n：显示行号
* more：分页显示
    * cat aaa.txt | more
    * 空格：向下翻一页
    * Enter：向下翻一行
    * q：离开more
    * ctrl + F：向下滚动一屏
    * ctrl + B：向上滚动一屏
    * =：输出当前行号
    * :f：输出当前文件名和行号
* less：和more类似，根据显示需要加载内容，适合查看大文件
    * 空格：下翻一页
    * pagedown键：下翻一页
    * pageup键：上翻一页
    * /字符串：向下查找字符串。n：向下；N：向上
    * ?字符串：向上查找字符串。n：向上；N：向下
    * q：离开less
* &gt;：输出重定向
    * ls -l &gt; a.txt      ：列表内容覆盖到a.txt
* &gt;&gt;：追加
    * ls -l &gt;&gt; a.txt    ：列表内容追加到a.txt
* echo：输出内容到控制台
* head：显示文件开头部分内容，默认显示文件前十行
    * head -n 5 a.txt
* tail：同head
    * tail -n 5 a.txt
    * tail -f 文件        实时追踪该文档的所有更新
* ln：创建软连接指令
    * ln -s 原文件或目录 软连接名
* history：显示历史上执行过的指令
    * history | tail -n 5        显示最近使用的5条指令
    * history 5                    显示最近使用的5条指令
    * !100                           执行histroy中的第一百条指令
* date：显示当前日期
    * date +%Y        显示当前年份
    * date +%m       显示当前月份
    * date +%d        显示当前是哪一天
    * date &quot;+%Y-%m-%d %H:%M:%S&quot;      显示年月日时分秒
    * date -s “2020-8-27 16:34:59”    设置时间
* cal：显示日历
    * cal 2020           显示2020年全年日历
* find：从指定目录下查找满足要求的文件
    * find [搜索范围] [选项]
    * -name：按文件名
    * -user：按用户名
    * -size：按文件大小
        * find / -size +20m       找大于20m的
        * find / -size -20m        找小于20m的
        * find / -size 20m         找等于20m的
* locate：我的docker上的centos没有这条命令
* grep：过滤查找
    * grep [选项] 查找内容 源文件
    * -n：显示匹配行及行号
    * -i：忽略字母大小写
* gzip：压缩文件，只能将文件压缩为&quot;.gz文件&quot;
    * gzip 文件
* gunzip：解压缩文件
    * gzip 文件.gz
* zip：压缩文件
    * -r：递归压缩
    * zip -r dest.zip /home/*
* unzip：解压缩文件
    * -d:指定解压后的目录
    * unzip -d /home/myfile dest.zip
* tar：打包指令，最后打包后的文件是.tar.gz
    * tar [选项] XXX.tar.gz 打包的内容
    * tar -zcvf a.tar.gz a1.txt a2.txt      打包a1.txt 和a2.txt
    * tar -zcvf myhome.tar.gz /home/  打包home下的所有文件
    * tar -zxvf a.tar.gz                          解压文件到当前目录
    * tar -zxvf a.tar.gz -C /dest/            解压到指定目录，指定目录必须存在
    * -c：产生.tar打包文件
    * -v：显示详细信息
    * -f：指定压缩后的文件名
    * -z：打包同时压缩
    * -x：解包tar文件</code></pre>
<h4 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h4><p>七个运行级别：</p>
<pre><code>* 0：关机
* 1：单用户（找回丢失密码）
* 2：多用户无网络服务（用的最少）
* 3：多用户有网络（用的最多）
* 4：未使用，保留
* 5：图形界面
* 6：重启</code></pre>
<p>系统的运行级别配置文件：/etc/inittab（在Ubuntu中，inittab软件包已经被<a target="_blank" rel="noopener" href="http://upstart.ubuntu.com/">Upstart</a>软件包替换了，所有的配置信息都在/etc/event.d/目录下。因为debian 系衍生出来的linux 一向是没有使用/etc/inittab 作为登入状态文档来使用的）</p>
<p>运行级别切换：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init [0123456]</span><br></pre></td></tr></table></figure>
<p>面试题：如何找回丢失的 root 密码？</p>
<p>进入单用户模式，修改 root 密码。单用户模式不需要密码即可登陆。不能远程操作。</p>
<p>（拿到电脑就可以随意进入）</p>
<h1 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h1><hr>
<ol>
<li><p>添加用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">useradd [选项] 用户名 </span><br><span class="line">#useradd -m lilingj</span><br><span class="line">#useradd -g 组名 -m lilingjie</span><br><span class="line">#-d 指定家目录</span><br></pre></td></tr></table></figure>
</li>
<li><p>指定密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd 用户名</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">userdel 用户名</span><br><span class="line">#删除用户，但保留家目录</span><br><span class="line">userdel lilingj</span><br><span class="line">#都删</span><br><span class="line">userdel -r lilingj</span><br></pre></td></tr></table></figure>
<p>实际开发中，保留家目录</p>
</li>
</ol>
<ol>
<li><p>查询用户指令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id 用户名</span><br></pre></td></tr></table></figure>
</li>
<li><p>切换用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su - 用户名</span><br></pre></td></tr></table></figure>
<p>高权限进入低权限用户不需要输入密码</p>
</li>
</ol>
<h1 id="组管理"><a href="#组管理" class="headerlink" title="组管理"></a>组管理</h1><hr>
<p>Linux 中每个用户必须属于一个组，不能独立于组外。在 Linux 中每个文件有所在者、所在组、其他组的概念</p>
<h4 id="增加组"><a href="#增加组" class="headerlink" title="增加组"></a>增加组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd 组名</span><br></pre></td></tr></table></figure>
<h4 id="删除组"><a href="#删除组" class="headerlink" title="删除组"></a>删除组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupdel 组名</span><br></pre></td></tr></table></figure>
<h4 id="切换组、家目录"><a href="#切换组、家目录" class="headerlink" title="切换组、家目录"></a>切换组、家目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usermod -g 组名 lilingjie</span><br><span class="line">usermod -d 目录名 lilingjie #改变用户登陆的初始目录</span><br></pre></td></tr></table></figure>
<h4 id="用户和组的相关文件"><a href="#用户和组的相关文件" class="headerlink" title="用户和组的相关文件"></a>用户和组的相关文件</h4><pre><code>* /etc/passwd文件
    * user 的配置文件，记录用户的各种信息
    * 每行含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登陆shell
* /etc/shadow文件
    * 口令配置文件
    * 每行含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志
* /etc/group文件
    * 组的配置文件，记录Linux包含的组的信息
    * 每行含义：组名:口令:组标识号:组内用户:组内用户列表</code></pre>
<h4 id="查看文件所有者"><a href="#查看文件所有者" class="headerlink" title="查看文件所有者"></a>查看文件所有者</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -ahl</span><br></pre></td></tr></table></figure>
<h4 id="修改文件所有者"><a href="#修改文件所有者" class="headerlink" title="修改文件所有者"></a>修改文件所有者</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chown 用户名 文件名</span><br><span class="line">chown 用户名:组名 文件名</span><br><span class="line">#-R：如果是目录，则使其下所有子文件或目录递归生效</span><br></pre></td></tr></table></figure>
<h4 id="修改文件所在组"><a href="#修改文件所在组" class="headerlink" title="修改文件所在组"></a>修改文件所在组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chgrp 组名 文件名</span><br><span class="line">#-R：如果是目录，则使其下所有子文件或目录递归生效</span><br></pre></td></tr></table></figure>
<h4 id="其他组"><a href="#其他组" class="headerlink" title="其他组"></a>其他组</h4><p>除文件所有者和所在组的用户外，系统的其他用户都是文件的其他组</p>
<h1 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h1><hr>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="权限格式"><a href="#权限格式" class="headerlink" title="权限格式"></a>权限格式</h4><p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-rw-r--  1</span><br></pre></td></tr></table></figure>

<ul>
<li><p>文件类型：0位</p>
<ul>
<li>-：普通文件</li>
<li>d：目录（目录大小总是 4096B）</li>
<li>l：软连接</li>
<li>c：字符设备</li>
<li>b：块文件</li>
</ul>
</li>
<li><p>文件所有者权限：1 - 3 位</p>
<ul>
<li>rw-</li>
</ul>
</li>
<li><p>文件所在组的权限：4 - 6 位</p>
<ul>
<li>r–：只读</li>
</ul>
</li>
<li><p>文件的其他组用户拥有的权限：7 - 9 位</p>
<ul>
<li>r–：只读</li>
</ul>
</li>
<li><p>数字</p>
<ul>
<li>如果是文件，则表示硬链接数目</li>
<li>如果是目录，则表示该目录的子目录的个数<h4 id="rwx权限详解"><a href="#rwx权限详解" class="headerlink" title="rwx权限详解"></a>rwx权限详解</h4></li>
</ul>
</li>
</ul>
<p>对文件：</p>
<pre><code>* r：可读
* w：可写，不代表可删除，对文件所在目录有 w 权限才可删除
* x：可执行</code></pre>
<p>对目录：</p>
<pre><code>* r：可读，ls查看目录内容
* w：可写，修改、创建、删除、重命名目录
* x：可执行，可以进入该目录</code></pre>
<h4 id="修改权限"><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h4><p>通过 chmod ，可以修改文件或者目录的权限</p>
<p>u：所有者</p>
<p>g：所有组</p>
<p>o：其他人</p>
<p>a：所有人（u、g、o的总和）</p>
<p>第一种：通过 +、-、= 变更权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;x 文件目录名</span><br><span class="line">chmod o+w 文件目录名</span><br><span class="line">chmod a-x 文件目录名</span><br></pre></td></tr></table></figure>
<p>第二种：通过数字变更权限</p>
<p>所有者、所在组、其他组用三个三位二进制数字表示，即三个十进制数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 751 文件目录名</span><br><span class="line">#等价 chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;x 文件目录名</span><br></pre></td></tr></table></figure>


<h1 id="任务调度crond"><a href="#任务调度crond" class="headerlink" title="任务调度crond"></a>任务调度crond</h1><hr>
<p>任务调度：指系统在某个时间执行的特定的命令或程序</p>
<ol>
<li>系统工作：有些重要的工作必须周而复始地执行。如病毒扫描。</li>
<li>个别用户工作：如对数据库备份。<h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crontab [选项]</span><br><span class="line">#-e 编辑crontab定时任务</span><br><span class="line">#-l 查询crontab定时任务</span><br><span class="line">#-r 删除当前用户所有的crontab任务</span><br></pre></td></tr></table></figure>
<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*&#x2F;1 * * * * ls -l &#x2F;etc &gt;&gt; &#x2F;tmp&#x2F;to.txt</span><br></pre></td></tr></table></figure>
<p>每隔一分钟执行一次</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l &#x2F;etc &gt;&gt; &#x2F;tmp&#x2F;to.txt</span><br></pre></td></tr></table></figure>
<p>五个*代表：分 时 天 月 星期几</p>
<h4 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h4><pre><code>* *  ：代表任何时间
* ,  ：代表不连续时间。&quot;0 8,12,16 * * * 命令&quot;：代表每天8点0分、12点0分、16点0分都执行一次命令
* -  ：代表连续的时间范围。&quot;0 5 * * 1-6 命令&quot;：代表周一到周六每天5点0分执行一次命令
* */n  ：代表每隔多久执行一次。&quot;*/10 * * * * 命令&quot;：代表每隔10分钟执行一遍命令</code></pre>
<h4 id="修改crontab下的编辑器"><a href="#修改crontab下的编辑器" class="headerlink" title="修改crontab下的编辑器"></a>修改crontab下的编辑器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select-editor</span><br></pre></td></tr></table></figure>
<h4 id="重启任务调度"><a href="#重启任务调度" class="headerlink" title="重启任务调度"></a>重启任务调度</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service crond restart</span><br></pre></td></tr></table></figure>


<h1 id="磁盘分区和挂载"><a href="#磁盘分区和挂载" class="headerlink" title="磁盘分区和挂载"></a>磁盘分区和挂载</h1><hr>
<p>Linux采用一种叫“载入”的处理方法，将一个分区和一个目录联系起来</p>
<h4 id="分区基本知识"><a href="#分区基本知识" class="headerlink" title="分区基本知识"></a>分区基本知识</h4><ol>
<li><p>MBR分区</p>
<ul>
<li>最多支持四个主分区</li>
<li>系统只能安装在主分区</li>
<li>扩展分区要占一个主分区</li>
<li>MBR最大只支持2TB，但拥有最好的兼容性</li>
</ul>
</li>
<li><p>GTP分区</p>
<ul>
<li>支持无限多个主分区（但操作系统可能限制，如 windows下最多支持128个分区）</li>
<li>最大支持18EB，（1EB = 1024PB， 1PB = 1024TB）</li>
<li>windows 7 64位以后支持GTP<h4 id="硬盘种类"><a href="#硬盘种类" class="headerlink" title="硬盘种类"></a>硬盘种类</h4></li>
</ul>
</li>
</ol>
<p>分为IDE硬盘和SCSI硬盘，目前基本上是SCSI硬盘</p>
<h4 id="查看系统的分区和挂载情况"><a href="#查看系统的分区和挂载情况" class="headerlink" title="查看系统的分区和挂载情况"></a>查看系统的分区和挂载情况</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk -f</span><br></pre></td></tr></table></figure>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><h4 id="如何增加一块硬盘？"><a href="#如何增加一块硬盘？" class="headerlink" title="如何增加一块硬盘？"></a>如何增加一块硬盘？</h4><p>！理解了再用，不要乱搞</p>
<pre><code>* 插入硬盘
* 分区：fdisk /dev/sdb
* 格式化：mkfs -t ext4 /dev/sdb1
* 挂载：先创建一个/home/newdisk，挂载 mount /dev/sdb1 /home/newdisk
    * 说明：只是临时挂载，重启后失效
* 设置可以自动挂载：永久挂载，编辑/etc/fstab，执行mount -a</code></pre>
<h4 id="取消挂载"><a href="#取消挂载" class="headerlink" title="取消挂载"></a>取消挂载</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">umount 设备名称或者挂载目录</span><br><span class="line">#例如 umount &#x2F;dev&#x2F;sdb1 或者 umount &#x2F;newdisk</span><br></pre></td></tr></table></figure>



<h1 id="磁盘状态查询"><a href="#磁盘状态查询" class="headerlink" title="磁盘状态查询"></a>磁盘状态查询</h1><hr>
<h4 id="查询系统整体磁盘使用情况"><a href="#查询系统整体磁盘使用情况" class="headerlink" title="查询系统整体磁盘使用情况"></a>查询系统整体磁盘使用情况</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></table></figure>
<h4 id="查询指定目录的磁盘占用情况"><a href="#查询指定目录的磁盘占用情况" class="headerlink" title="查询指定目录的磁盘占用情况"></a>查询指定目录的磁盘占用情况</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">du -h 目录</span><br><span class="line">#-s：制定目录占用大小汇总</span><br><span class="line">#-a：含文件</span><br><span class="line">#-h：带计量单位</span><br><span class="line">#--max-depth&#x3D;1：子目录深度</span><br><span class="line">#-c：列出明细的同时，增加汇总量</span><br></pre></td></tr></table></figure>
<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><ol>
<li>当前目录下文件数目<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l . | grep &quot;^-&quot; | wc -l</span><br></pre></td></tr></table></figure></li>
<li>统计当前文件夹下的目录的个数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l . | grep &quot;^d&quot; | wc -l</span><br></pre></td></tr></table></figure></li>
<li>统计当前文件夹下文件的个数，包括子文件夹里的<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lR . | grep &quot;^-&quot; | wc -l</span><br></pre></td></tr></table></figure></li>
<li>统计文件夹下目录的个数，包括子文件夹里的<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lR . | grep &quot;^d&quot; | wc -l</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h1 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h1><hr>
<h4 id="获取ip"><a href="#获取ip" class="headerlink" title="获取ip"></a>获取ip</h4><ol>
<li><p>自动获取ip：每次自动获取的ip地址可能不一样</p>
</li>
<li><p>获取静态ip：直接修改配置文件来指定ip</p>
<ul>
<li>编辑/etc/sysconfig/network-scripts/ifcfg-eth0</li>
<li>我用的 Ubuntu 20.04，需要修改的文件是/etc/netplan/01-network-manager-all.yaml</li>
</ul>
</li>
</ol>
<h1 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h1><hr>
<p>进程都可能以两种方式存在，前台和后台</p>
<h4 id="查看进程"><a href="#查看进程" class="headerlink" title="查看进程"></a>查看进程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ps</span><br><span class="line">#-a：所有</span><br><span class="line">#-u：以用户的格式显示</span><br><span class="line">#-x：显示后台进程运行的参数</span><br><span class="line">#-e：所有</span><br><span class="line">#-f：全格式</span><br></pre></td></tr></table></figure>
<p>字段说明：</p>
<pre><code>* USER：用户名

* PID：进程识别号
* PPID：父进程的PID
* %CPU：占用CPU
* %MEM：占用内存
* VSZ：使用的虚拟内存，单位KB
* RSS：使用物理内存情况，单位KB
* TTY：终端机号
* STAT：进程状态，S为休眠，s为该进程是会话的先导进程，N表示进程拥有比普通优先级更低的优先级，R为运行，D为短期等待，Z为僵死进程，T为被跟踪或被停止
* START：启动时间
* TIME：此进程消耗的CPU时间
* COMMAND：进程执行时的命令行
* C：CPU用于计算执行优先级的因子。数值越大，CPU密集型运算，执行优先级降低；数值越小，I/O密集型运算，执行优先级提高。</code></pre>
<h4 id="查看进程树"><a href="#查看进程树" class="headerlink" title="查看进程树"></a>查看进程树</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pstree [选项]</span><br><span class="line">#-p：显示进程PID</span><br><span class="line">#-u：显示进程所属用户</span><br></pre></td></tr></table></figure>
<h4 id="终止进程"><a href="#终止进程" class="headerlink" title="终止进程"></a>终止进程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#通过进程号来终止进程</span><br><span class="line">kill [选项] 进程号</span><br><span class="line">#-9：强制终止</span><br><span class="line">#通过进程名称来会终止进程，支持通配符</span><br><span class="line">killall 进程名称</span><br></pre></td></tr></table></figure>


<h1 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h1><hr>
<p>服务的本质是后台进程，通常会监听某个端口，等待其他程序的请求，比如 mysql， sshd， 防火墙。因此又称为守护进程</p>
<h4 id="service管理命令"><a href="#service管理命令" class="headerlink" title="service管理命令"></a>service管理命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service 服务名 [start|stop|restart|reload|status]</span><br></pre></td></tr></table></figure>
<p>CentOS 7.0 后，不再使用service，而是 systemctl<br>案例：</p>
<p>（这个课程使用的CentOS 6.0，CentOS7.0后和我用的Ubuntu 20.04都没有使用iptables）</p>
<ol>
<li>查看防火墙<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables status</span><br></pre></td></tr></table></figure></li>
<li>关闭防火墙（临时关闭，重启后失效）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables stop</span><br></pre></td></tr></table></figure></li>
<li>重启防火墙<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables restart</span><br></pre></td></tr></table></figure>
<h4 id="查看服务名"><a href="#查看服务名" class="headerlink" title="查看服务名"></a>查看服务名</h4></li>
</ol>
<p>Ubuntu 20.04没有这个命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setup</span><br></pre></td></tr></table></figure>
<p>直接查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l &#x2F;etc&#x2F;init.d&#x2F;</span><br></pre></td></tr></table></figure>
<h4 id="服务运行级别"><a href="#服务运行级别" class="headerlink" title="服务运行级别"></a>服务运行级别</h4><p>和系统运行级别相同，见 常用指令 -&gt; 运行级别</p>
<p>查看或者修改默认级别（我用的Ubuntu 20.04没有此文件）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;inittab</span><br></pre></td></tr></table></figure>
<h4 id="chkconfig指令"><a href="#chkconfig指令" class="headerlink" title="chkconfig指令"></a>chkconfig指令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --list</span><br><span class="line">chkconfig 服务名 --list</span><br><span class="line">chkconfig --level 5 服务名 on&#x2F;off #在系统级别在5的时候，服务启动或者不启动</span><br></pre></td></tr></table></figure>
<h4 id="动态监控进程"><a href="#动态监控进程" class="headerlink" title="动态监控进程"></a>动态监控进程</h4><p>top 命令和 ps 命令类似，top在执行一段时间后可以更新正在运行的进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">top [选项]</span><br><span class="line">#-d：制定top命令每隔几秒更新，默认是3秒</span><br><span class="line">#-i：使top不显示任何闲置和僵死进程</span><br><span class="line">#-p：通过指定进程ID来监控某个进程状态</span><br></pre></td></tr></table></figure>
<p>交互操作说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">P：以CPU使用率排序，默认是此项</span><br><span class="line">M：以内存使用率排序</span><br><span class="line">N：以PID排序</span><br><span class="line">q：退出</span><br><span class="line">u：监视特定用户</span><br><span class="line">k：终止指定进程</span><br></pre></td></tr></table></figure>
<h4 id="监控网络状态"><a href="#监控网络状态" class="headerlink" title="监控网络状态"></a>监控网络状态</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netstat [选项]</span><br><span class="line">#-an 按一定顺序排列输出</span><br><span class="line">#-p 显示哪个进程在调用</span><br></pre></td></tr></table></figure>


<h1 id="apt软件包管理"><a href="#apt软件包管理" class="headerlink" title="apt软件包管理"></a>apt软件包管理</h1><hr>
<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>/etc/apt/source.list：指定了官方软件仓库地址</p>
<h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">apt-get update #更新源</span><br><span class="line">apt-get install package #安装包</span><br><span class="line">apt-get remove package #删除包</span><br><span class="line">apt-cache search package #搜索软件包</span><br><span class="line">apt-cache show package #获取包的相关信息，如说明、大小、版本</span><br><span class="line">apt-get install package --reinstall #重新安装包</span><br><span class="line">apt-get -f install #修复安装</span><br><span class="line">apt-get remove package --purge #删除包，包括配置文件</span><br><span class="line">apt-get build-dep package #安装相关的编译环境</span><br><span class="line">apt-get upgrade #更新已安装的包</span><br><span class="line">apt-get dist-upgrade #升级系统</span><br><span class="line">apt-cache depends package #了解使用该包依赖哪些包</span><br><span class="line">apt-cache rdepends package #查看该包被哪些包依赖</span><br><span class="line">apt-get source package #下载该包的源代码</span><br></pre></td></tr></table></figure>

<h1 id="ssh远程登录"><a href="#ssh远程登录" class="headerlink" title="ssh远程登录"></a>ssh远程登录</h1><hr>
<p>SSH为Secure Shell 的缩写</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>需安装openssh-server，并启动sshd服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br><span class="line">service sshd start</span><br></pre></td></tr></table></figure>
<h4 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#基本语法</span><br><span class="line">ssh 用户名@ip</span><br></pre></td></tr></table></figure>









      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/20/Docker%E7%AE%80%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="换菜刀换脸盆的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="换菜刀换脸盆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/20/Docker%E7%AE%80%E8%AE%B0/" class="post-title-link" itemprop="url">Docker简记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-20 11:26:23" itemprop="dateCreated datePublished" datetime="2020-08-20T11:26:23+08:00">2020-08-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-20 23:51:12" itemprop="dateModified" datetime="2020-09-20T23:51:12+08:00">2020-09-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Docker为什么出现？"><a href="#Docker为什么出现？" class="headerlink" title="Docker为什么出现？"></a>Docker为什么出现？</h1><p>传统模式下，运维部署开发的代码时，环境不一样，容易出错，两者扯皮。Docker将软件代码和环境整体打包递交给运维。</p>
<p><img src="https://uploader.shimo.im/f/VuatyY0RNnv42kYM.png!thumbnail" alt="图片"><img src="https://uploader.shimo.im/f/tLu0hN9C3xWvi5xx.png!thumbnail" alt="图片"></p>
<h1 id="Docker是什么？"><a href="#Docker是什么？" class="headerlink" title="Docker是什么？"></a>Docker是什么？</h1><p>解决了运行环境和配置问题软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术</p>
<h1 id="Docker能干什么？"><a href="#Docker能干什么？" class="headerlink" title="Docker能干什么？"></a>Docker能干什么？</h1><p>替代虚拟机</p>
<p>虚拟机缺点：资源占用多，冗余步骤多，启动慢</p>
<h1 id="Docker三要素"><a href="#Docker三要素" class="headerlink" title="Docker三要素"></a>Docker三要素</h1><p>Docker架构图<img src="https://uploader.shimo.im/f/7P3BnNiom3BSRhbe.png!thumbnail" alt="图片"></p>
<p>三要素：镜像、容器、仓库</p>
<p>镜像类比于类，容器类比于类的实例，容器是用镜像创建的运行实例</p>
<p>容器可以看做是一个简易版的Linux环境</p>
<p>仓库是集中存放镜像文件的场所</p>
<h1 id="Docker运行底层原理"><a href="#Docker运行底层原理" class="headerlink" title="Docker运行底层原理"></a>Docker运行底层原理</h1><p>Docker 是一个Client-Server 结构的系统，Docker 守护进程运行在主机上，然后通过Socket连接从客户端访问，守护进程从客户端接收命令并管理运行在主机上的容器</p>
<p>相比于虚拟机，Docker 没有硬件虚拟化，减少了抽象层<img src="https://uploader.shimo.im/f/0NHh8nivaFmRLueq.png!thumbnail" alt="图片"></p>
<h1 id="Docker常用命令"><a href="#Docker常用命令" class="headerlink" title="Docker常用命令"></a>Docker常用命令</h1><ol>
<li><p>帮助命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker version</span><br><span class="line">docker info</span><br><span class="line">docker --help</span><br></pre></td></tr></table></figure>
</li>
<li><p>镜像命令</p>
</li>
</ol>
<p>显示镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br><span class="line">#-a 显示所有</span><br><span class="line">#-q 显示id</span><br><span class="line">#--digests 显示镜像摘要信息</span><br><span class="line">#-no-trunc 显示镜像完整信息</span><br></pre></td></tr></table></figure>
<p>查找镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker search</span><br><span class="line">#--no-trunc 显示完整的镜像描述</span><br><span class="line">#-s 列出收藏数不小于指定值的镜像</span><br><span class="line">#--automated 只列出automated build类型的镜像</span><br></pre></td></tr></table></figure>
<p>拉取镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull</span><br></pre></td></tr></table></figure>
<p>删除镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker rmi</span><br><span class="line">#-f 强制删除</span><br><span class="line">docker rmi -f $(docker images -qa) #删除全部镜像</span><br></pre></td></tr></table></figure>
<p>容器封装成镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit -m&#x3D;&quot;提交描述信息&quot; -a&#x3D;&quot;作者&quot; 容器ID 要创建的目标镜像名:[标签名]</span><br></pre></td></tr></table></figure>


<ol>
<li>容器命令</li>
</ol>
<p>新建并启动容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -it centos</span><br><span class="line">#-i 以交互模式运行容器</span><br><span class="line">#-t 为容器重新分配一个伪输入终端</span><br><span class="line">#-p 主机端口:docker容器端口</span><br><span class="line">#-P 随机分配端口</span><br><span class="line">#-d 启动守护容器</span><br></pre></td></tr></table></figure>
<p>列出所有正在运行的容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">#-a 正在运行和历史上运行的所有容器</span><br><span class="line">#-l 上一个运行的</span><br><span class="line">#-n 上指定次运行的</span><br></pre></td></tr></table></figure>
<p>退出容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#容器停止退出</span><br><span class="line">exit</span><br><span class="line">#容器不停止退出</span><br><span class="line">ctrl + P + Q</span><br></pre></td></tr></table></figure>
<p>启动容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start 容器ID</span><br></pre></td></tr></table></figure>
<p>重启容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart 容器ID</span><br></pre></td></tr></table></figure>
<p>停止容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#正常停止</span><br><span class="line">docker stop 容器ID</span><br><span class="line">#强制停止</span><br><span class="line">docker kill 容器ID</span><br></pre></td></tr></table></figure>
<p>删除已经停止容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker rm 容器ID</span><br><span class="line">#-f 强制删除</span><br><span class="line">#一次性删除多容器</span><br><span class="line">docker rm -f $(docker ps -aq)</span><br><span class="line">docker ps -aq | xargs docker rm</span><br></pre></td></tr></table></figure>
<p>查看容器日志</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f -t --tail 容器ID</span><br><span class="line">#-t 加入时间戳</span><br><span class="line">#-f 跟随最新日志打印</span><br><span class="line">#--tail 数字 显示最后多少条</span><br></pre></td></tr></table></figure>
<p>查看容器内运行的进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker top 容器ID</span><br></pre></td></tr></table></figure>
<p>查看容器内部细节</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect 容器ID</span><br></pre></td></tr></table></figure>
<p>进入正在运行的容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker attach 容器ID</span><br></pre></td></tr></table></figure>
<p>从容器内拷贝文件到主机上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp 容器ID:容器内路径 目的主机路径</span><br></pre></td></tr></table></figure>


<h1 id="Docker镜像是什么"><a href="#Docker镜像是什么" class="headerlink" title="Docker镜像是什么"></a>Docker镜像是什么</h1><p>轻量级、可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件，包括代码、运行时、库、环境变量、配置文件</p>
<p>UnionFS（联合文件系统）:Union文件系统是一种分层、轻量级并且搞性能的文件系统，它支持对文件系统的修改作为一次提交来一层一层叠加，同时将不同目录挂载到同一个虚拟文件系统下</p>
<p>UnionFS是Docker镜像的基础，镜像可以通过分层来继承，基于基础镜像</p>
<p><img src="https://uploader.shimo.im/f/ds0OkbgMznc2ev11.png!thumbnail" alt="图片"></p>
<h1 id="Docker容器数据卷"><a href="#Docker容器数据卷" class="headerlink" title="Docker容器数据卷"></a>Docker容器数据卷</h1><p>Docker容器产生的数据，如果不通过docker commit生成新的镜像，使数据作为镜像一部分保存下来，那么容器删除后，数据自然也就没有了</p>
<ul>
<li>将运用与运行环境打包成容器运行，运行可以伴随着容器，但我们对数据的要求是希望持久化的</li>
<li>容器之前希望有可能共享数据</li>
</ul>
<p>直接命令添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -v &#x2F;宿主机绝对路径:&#x2F;容器内目录 镜像名</span><br><span class="line">#两个文件夹将共享数据</span><br><span class="line">docker run -it -v &#x2F;宿主机绝对路径:&#x2F;容器内目录:ro 镜像名</span><br><span class="line">#容器内对共享目录只读</span><br></pre></td></tr></table></figure>
<p>dockerfile添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">略</span><br><span class="line">--volume-from 容器间传递共享</span><br></pre></td></tr></table></figure>

<h1 id="DockerFile"><a href="#DockerFile" class="headerlink" title="DockerFile"></a>DockerFile</h1><p>DockerFile 是用来构建Docker镜像的构建文件，是由一系列命令和参数构成的脚本。</p>
<p>构建三步骤：</p>
<pre><code>* 编写DockerFile文件
* docker build
* docker run</code></pre>
<p>scratch 是元镜像</p>
<h4 id="DockerFile基础知识："><a href="#DockerFile基础知识：" class="headerlink" title="DockerFile基础知识："></a>DockerFile基础知识：</h4><pre><code>* 每条保留字指令都必须为大写字母且后面要跟随至少一个参数
* 指令从上到下，顺序执行
* #表示注释
* 每条指令都会创建一个新的镜像层，并对镜像进行提交</code></pre>
<h4 id="DockerFile执行的大致流程"><a href="#DockerFile执行的大致流程" class="headerlink" title="DockerFile执行的大致流程"></a>DockerFile执行的大致流程</h4><pre><code>* docker从基础镜像运行一个容器
* 执行一条指令并对容器做出修改
* 执行类似docker commit的操作提交一个新的镜像层
* docker再基于刚提交的镜像运行一个新容器
* 执行dockerfile中的下一条指令知道所有指令都执行完成</code></pre>
<h4 id="DockerFile、Docker镜像与Docker容器分别代表的软件的三个不同阶段"><a href="#DockerFile、Docker镜像与Docker容器分别代表的软件的三个不同阶段" class="headerlink" title="DockerFile、Docker镜像与Docker容器分别代表的软件的三个不同阶段"></a>DockerFile、Docker镜像与Docker容器分别代表的软件的三个不同阶段</h4><pre><code>* DockerFile 是软件的原材料
* Docker镜像是软件的交付品
* Docker容器则可以认为世软件的运行态</code></pre>
<p>DockerFile面向开发，Docker镜像成为交付标准，Docker容器则涉及到部署与运维<img src="https://uploader.shimo.im/f/49a8vK8yeIvKwTVP.png!thumbnail" alt="图片"></p>
<h1 id="DockerFile保留字指令"><a href="#DockerFile保留字指令" class="headerlink" title="DockerFile保留字指令"></a>DockerFile保留字指令</h1><p><img src="https://uploader.shimo.im/f/XQy1Oekt7xZhtZpY.png!thumbnail" alt="图片"></p>
<ol>
<li><p>FROM：基础镜像，当前镜像是基于哪个镜像的</p>
</li>
<li><p>MAINTAINER：镜像维护者的姓名和邮箱地址</p>
</li>
<li><p>RUN：容器构建时需要运行的命令</p>
</li>
<li><p>EXPOSE：当前容器对外暴露的端口号</p>
</li>
<li><p>WORKDIR：指定在创建容器后，终端默认登录的进来工作目录，一个落脚点</p>
</li>
<li><p>ENV：用来构建镜像过程中设置环境变量</p>
</li>
<li><p>ADD：将宿主机目录下的文件拷贝进镜像且ADD命令会自动处理URL和解压tar压缩包</p>
</li>
<li><p>COPY：类似ADD，拷贝文件和目录到镜像中</p>
<ul>
<li>COPY src dest</li>
<li>COPY [“src”, “dest”]</li>
</ul>
</li>
<li><p>VOLUME：容器数据卷，用于数据保存和持久化工作</p>
</li>
<li><p>CMD：容器启动时要运行的命令，可以有多个，CMD会被docker run之后的参数替换</p>
<ul>
<li>shell格式：CMD &lt;命令&gt;</li>
<li>exec格式：CMD [“可执行文件“， ”参数1”,  “参数2”…]</li>
<li>参数列表格式：CMD [”参数1”,  “参数2”…]，在指定ENTRYPOINT指令后，用CMD指定具体参数</li>
</ul>
</li>
<li><p>ENTRYPOINT：同CMD，但是docker run 之后的参数会追加到该命令行中</p>
</li>
<li><p>ONBUILD：当构建一个被继承的dockerfile时运行命令，父镜像在被子继承后父镜像的onbuild会被触发</p>
<h4 id="例子1："><a href="#例子1：" class="headerlink" title="例子1："></a>例子1：</h4></li>
</ol>
<p>阿里云pull下的centos没有vim，也没有ifconfig。制作一个包含这些工具的centos镜像</p>
<p>第一步：</p>
<p>DockerFile文件编写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#DockerFile文件编写</span><br><span class="line">FROM centos</span><br><span class="line">MAINTAINER llj&lt;lilingjie_nefu@qq.com&gt;</span><br><span class="line">ENV MYPATH &#x2F;tmp</span><br><span class="line">WORKDIR $MYPATH</span><br><span class="line">RUN yum -y install vim</span><br><span class="line">RUN yum -y install net-tools</span><br><span class="line">EXPOSE 80</span><br><span class="line">CMD echo &quot;success!!!&quot;</span><br><span class="line">CMD &#x2F;bin&#x2F;bash</span><br><span class="line">ONBUILD RUN echo &quot;Dad is looking at you&quot;</span><br></pre></td></tr></table></figure>
<p>第二步：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -f &#x2F;mydocker&#x2F;DockerFile -t llj_centos:1.0 .</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<pre><code>    * 最后那个&quot;.&quot;必须加，不然报错
    * 我使用的Docker toolbox，创建了mydocker文件夹，创建DockerFile文件，运行，报错，大意是找不到该文件，有&quot;D:\mydocker&quot;字样，我去D盘下创建了mydocker文件夹，DockerFile文件，然后可以正常运行
    * 对上一条，我发现我用的是git bash，没进入docker toolbox提供的虚拟机，进入就好了</code></pre>
<h4 id="例子2："><a href="#例子2：" class="headerlink" title="例子2："></a>例子2：<img src="https://uploader.shimo.im/f/RVYO3ikJaRFqzOlY.png!thumbnail" alt="图片"></h4><h1 id="本地镜像发布到阿里云"><a href="#本地镜像发布到阿里云" class="headerlink" title="本地镜像发布到阿里云"></a>本地镜像发布到阿里云</h1><p><img src="https://uploader.shimo.im/f/XCFKiIalEcbvU9Zy.png!thumbnail" alt="图片"></p>
<p><img src="https://uploader.shimo.im/f/8AkjqUWoeXN6h1Lb.png!thumbnail" alt="图片"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description">换菜刀换脸盆的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
